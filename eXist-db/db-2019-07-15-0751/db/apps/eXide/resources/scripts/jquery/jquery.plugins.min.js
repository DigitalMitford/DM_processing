(function(d){d.fn.drag=function(c,b,a){var e="string"==typeof c?c:"",g=d.isFunction(c)?c:d.isFunction(b)?b:null;0!==e.indexOf("drag")&&(e="drag"+e);a=(c==g?b:a)||{};return g?this.bind(e,a,g):this.trigger(e)};var a=d.event,b=a.special,c=b.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(b){var a=d.data(this,c.datakey),e=b.data||{};a.related+=1;d.each(c.defaults,function(c){void 0!==e[c]&&(a[c]=e[c])})},remove:function(){d.data(this,
c.datakey).related-=1},setup:function(){if(!d.data(this,c.datakey)){var b=d.extend({related:0},c.defaults);d.data(this,c.datakey,b);a.add(this,"touchstart mousedown",c.init,b);this.attachEvent&&this.attachEvent("ondragstart",c.dontstart)}},teardown:function(){(d.data(this,c.datakey)||{}).related||(d.removeData(this,c.datakey),a.remove(this,"touchstart mousedown",c.init),c.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",c.dontstart))},init:function(f){if(!c.touched){var e=f.data,g;
if(!(0!=f.which&&0<e.which&&f.which!=e.which)&&!d(f.target).is(e.not)&&(!e.handle||d(f.target).closest(e.handle,f.currentTarget).length))if(c.touched="touchstart"==f.type?this:null,e.propagates=1,e.mousedown=this,e.interactions=[c.interaction(this,e)],e.target=f.target,e.pageX=f.pageX,e.pageY=f.pageY,e.dragging=null,g=c.hijack(f,"draginit",e),e.propagates){if((g=c.flatten(g))&&g.length)e.interactions=[],d.each(g,function(){e.interactions.push(c.interaction(this,e))});e.propagates=e.interactions.length;
!1!==e.drop&&b.drop&&b.drop.handler(f,e);c.textselect(!1);c.touched?a.add(c.touched,"touchmove touchend",c.handler,e):a.add(document,"mousemove mouseup",c.handler,e);if(!c.touched||e.live)return!1}}},interaction:function(b,a){var e=d(b)[a.relative?"position":"offset"]()||{top:0,left:0};return{drag:b,callback:new c.callback,droppable:[],offset:e}},handler:function(f){var e=f.data;switch(f.type){case !e.dragging&&"touchmove":f.preventDefault();case !e.dragging&&"mousemove":if(Math.pow(f.pageX-e.pageX,
2)+Math.pow(f.pageY-e.pageY,2)<Math.pow(e.distance,2))break;f.target=e.target;c.hijack(f,"dragstart",e);e.propagates&&(e.dragging=!0);case "touchmove":f.preventDefault();case "mousemove":if(e.dragging){c.hijack(f,"drag",e);if(e.propagates){!1!==e.drop&&b.drop&&b.drop.handler(f,e);break}f.type="mouseup"}default:c.touched?a.remove(c.touched,"touchmove touchend",c.handler):a.remove(document,"mousemove mouseup",c.handler),e.dragging&&(!1!==e.drop&&b.drop&&b.drop.handler(f,e),c.hijack(f,"dragend",e)),
c.textselect(!0),!1===e.click&&e.dragging&&d.data(e.mousedown,"suppress.click",(new Date).getTime()+5),e.dragging=c.touched=!1}},hijack:function(b,e,g,o,m){if(g){var n=b.originalEvent,z=b.type,s=e.indexOf("drop")?"drag":"drop",l,t=o||0,h,q,o=!isNaN(o)?o:g.interactions.length;b.type=e;b.originalEvent=null;g.results=[];do if((h=g.interactions[t])&&!("dragend"!==e&&h.cancelled))q=c.properties(b,g,h),h.results=[],d(m||h[s]||g.droppable).each(function(o,m){q.target=m;b.isPropagationStopped=function(){return!1};
l=m?a.dispatch.call(m,b,q):null;!1===l?("drag"==s&&(h.cancelled=!0,g.propagates-=1),"drop"==e&&(h[s][o]=null)):"dropinit"==e&&h.droppable.push(c.element(l)||m);"dragstart"==e&&(h.proxy=d(c.element(l)||h.drag)[0]);h.results.push(l);delete b.result;if("dropinit"!==e)return l}),g.results[t]=c.flatten(h.results),"dropinit"==e&&(h.droppable=c.flatten(h.droppable)),"dragstart"==e&&!h.cancelled&&q.update();while(++t<o);b.type=z;b.originalEvent=n;return c.flatten(g.results)}},properties:function(b,e,a){var d=
a.callback;d.drag=a.drag;d.proxy=a.proxy||a.drag;d.startX=e.pageX;d.startY=e.pageY;d.deltaX=b.pageX-e.pageX;d.deltaY=b.pageY-e.pageY;d.originalX=a.offset.left;d.originalY=a.offset.top;d.offsetX=d.originalX+d.deltaX;d.offsetY=d.originalY+d.deltaY;d.drop=c.flatten((a.drop||[]).slice());d.available=c.flatten((a.droppable||[]).slice());return d},element:function(c){if(c&&(c.jquery||1==c.nodeType))return c},flatten:function(b){return d.map(b,function(b){return b&&b.jquery?d.makeArray(b):b&&b.length?c.flatten(b):
b})},textselect:function(b){d(document)[b?"unbind":"bind"]("selectstart",c.dontstart).css("MozUserSelect",b?"":"none");document.unselectable=b?"off":"on"},dontstart:function(){return!1},callback:function(){}};c.callback.prototype={update:function(){b.drop&&this.available.length&&d.each(this.available,function(c){b.drop.locate(this,c)})}};var e=a.dispatch;a.dispatch=function(c){if(0<d.data(this,"suppress."+c.type)-(new Date).getTime())d.removeData(this,"suppress."+c.type);else return e.apply(this,
arguments)};var g=a.fixHooks.touchstart=a.fixHooks.touchmove=a.fixHooks.touchend=a.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(c,b){if(b){var e=b.touches&&b.touches[0]||b.changedTouches&&b.changedTouches[0]||null;e&&d.each(g.props,function(b,a){c[a]=e[a]})}return c}};b.draginit=b.dragstart=b.dragend=c})(jQuery);(function(d){"function"===typeof define&&define.amd?define(["jquery","jquery.ui.widget"],d):d(window.jQuery)})(function(d){d.support.fileInput=!(RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||d('<input type="file">').prop("disabled"));d.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader);d.support.xhrFormDataFileUpload=!!window.FormData;d.support.blobSlice=
window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);d.widget("blueimp.fileupload",{options:{dropZone:d(document),pasteZone:d(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,
uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(a,b){a=this.messages[a]||a.toString();b&&d.each(b,function(c,b){a=a.replace("{"+c+"}",b)});return a},formData:function(a){return a.serializeArray()},add:function(a,b){if(a.isDefaultPrevented())return!1;(b.autoUpload||!1!==b.autoUpload&&d(this).fileupload("option","autoUpload"))&&b.process().done(function(){b.submit()})},processData:!1,
contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:d.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.bitrate=this.loaded=0;this.getBitrate=function(a,b,c){var e=a-this.timestamp;if(!this.bitrate||!c||e>c)this.bitrate=8*(b-this.loaded)*(1E3/e),this.loaded=b,this.timestamp=a;return this.bitrate}},
_isXHRUpload:function(a){return!a.forceIframeTransport&&(!a.multipart&&d.support.xhrFileUpload||d.support.xhrFormDataFileUpload)},_getFormData:function(a){var b;return"function"===d.type(a.formData)?a.formData(a.form):d.isArray(a.formData)?a.formData:"object"===d.type(a.formData)?(b=[],d.each(a.formData,function(c,e){b.push({name:c,value:e})}),b):[]},_getTotal:function(a){var b=0;d.each(a,function(c,e){b+=e.size||1});return b},_initProgressObject:function(a){var b={loaded:0,total:0,bitrate:0};a._progress?
d.extend(a._progress,b):a._progress=b},_initResponseObject:function(a){var b;if(a._response)for(b in a._response)a._response.hasOwnProperty(b)&&delete a._response[b];else a._response={}},_onProgress:function(a,b){if(a.lengthComputable){var c=Date.now?Date.now():(new Date).getTime(),e;if(!b._time||!b.progressInterval||!(c-b._time<b.progressInterval&&a.loaded!==a.total))b._time=c,e=Math.floor(a.loaded/a.total*(b.chunkSize||b._progress.total))+(b.uploadedBytes||0),this._progress.loaded+=e-b._progress.loaded,
this._progress.bitrate=this._bitrateTimer.getBitrate(c,this._progress.loaded,b.bitrateInterval),b._progress.loaded=b.loaded=e,b._progress.bitrate=b.bitrate=b._bitrateTimer.getBitrate(c,e,b.bitrateInterval),this._trigger("progress",d.Event("progress",{delegatedEvent:a}),b),this._trigger("progressall",d.Event("progressall",{delegatedEvent:a}),this._progress)}},_initProgressListener:function(a){var b=this,c=a.xhr?a.xhr():d.ajaxSettings.xhr();c.upload&&(d(c.upload).bind("progress",function(c){var d=c.originalEvent;
c.lengthComputable=d.lengthComputable;c.loaded=d.loaded;c.total=d.total;b._onProgress(c,a)}),a.xhr=function(){return c})},_isInstanceOf:function(a,b){return Object.prototype.toString.call(b)==="[object "+a+"]"},_initXHRData:function(a){var b=this,c,e=a.files[0],g=a.multipart||!d.support.xhrFileUpload,f="array"===d.type(a.paramName)?a.paramName[0]:a.paramName;a.headers=d.extend({},a.headers);a.contentRange&&(a.headers["Content-Range"]=a.contentRange);if(!g||a.blob||!this._isInstanceOf("File",e))a.headers["Content-Disposition"]=
'attachment; filename="'+encodeURI(e.name)+'"';g?d.support.xhrFormDataFileUpload&&(a.postMessage?(c=this._getFormData(a),a.blob?c.push({name:f,value:a.blob}):d.each(a.files,function(b,e){c.push({name:d.type(a.paramName)==="array"&&a.paramName[b]||f,value:e})})):(b._isInstanceOf("FormData",a.formData)?c=a.formData:(c=new FormData,d.each(this._getFormData(a),function(b,e){c.append(e.name,e.value)})),a.blob?c.append(f,a.blob,e.name):d.each(a.files,function(e,g){if(b._isInstanceOf("File",g)||b._isInstanceOf("Blob",
g))c.append(d.type(a.paramName)==="array"&&a.paramName[e]||f,g,g.uploadName||g.name)})),a.data=c):(a.contentType=e.type||"application/octet-stream",a.data=a.blob||e);a.blob=null},_initIframeSettings:function(a){var b=d("<a></a>").prop("href",a.url).prop("host");a.dataType="iframe "+(a.dataType||"");a.formData=this._getFormData(a);a.redirect&&(b&&b!==location.host)&&a.formData.push({name:a.redirectParamName||"redirect",value:a.redirect})},_initDataSettings:function(a){if(this._isXHRUpload(a)){if(this._chunkedUpload(a,
!0)||(a.data||this._initXHRData(a),this._initProgressListener(a)),a.postMessage)a.dataType="postmessage "+(a.dataType||"")}else this._initIframeSettings(a)},_getParamName:function(a){var b=d(a.fileInput),c=a.paramName;c?d.isArray(c)||(c=[c]):(c=[],b.each(function(){for(var b=d(this),a=b.prop("name")||"files[]",b=(b.prop("files")||[1]).length;b;)c.push(a),b-=1}),c.length||(c=[b.prop("name")||"files[]"]));return c},_initFormSettings:function(a){if(!a.form||!a.form.length)a.form=d(a.fileInput.prop("form")),
a.form.length||(a.form=d(this.options.fileInput.prop("form")));a.paramName=this._getParamName(a);a.url||(a.url=a.form.prop("action")||location.href);a.type=(a.type||"string"===d.type(a.form.prop("method"))&&a.form.prop("method")||"").toUpperCase();"POST"!==a.type&&("PUT"!==a.type&&"PATCH"!==a.type)&&(a.type="POST");a.formAcceptCharset||(a.formAcceptCharset=a.form.attr("accept-charset"))},_getAJAXSettings:function(a){a=d.extend({},this.options,a);this._initFormSettings(a);this._initDataSettings(a);
return a},_getDeferredState:function(a){return a.state?a.state():a.isResolved()?"resolved":a.isRejected()?"rejected":"pending"},_enhancePromise:function(a){a.success=a.done;a.error=a.fail;a.complete=a.always;return a},_getXHRPromise:function(a,b,c){var e=d.Deferred(),g=e.promise(),b=b||this.options.context||g;!0===a?e.resolveWith(b,c):!1===a&&e.rejectWith(b,c);g.abort=e.promise;return this._enhancePromise(g)},_addConvenienceMethods:function(a,b){var c=this,e=function(b){return d.Deferred().resolveWith(c,
b).promise()};b.process=function(a,f){if(a||f)b._processQueue=this._processQueue=(this._processQueue||e([this])).pipe(function(){return b.errorThrown?d.Deferred().rejectWith(c,[b]).promise():e(arguments)}).pipe(a,f);return this._processQueue||e([this])};b.submit=function(){"pending"!==this.state()&&(b.jqXHR=this.jqXHR=!1!==c._trigger("submit",d.Event("submit",{delegatedEvent:a}),this)&&c._onSend(a,this));return this.jqXHR||c._getXHRPromise()};b.abort=function(){if(this.jqXHR)return this.jqXHR.abort();
this.errorThrown="abort";c._trigger("fail",null,this);return c._getXHRPromise(!1)};b.state=function(){if(this.jqXHR)return c._getDeferredState(this.jqXHR);if(this._processQueue)return c._getDeferredState(this._processQueue)};b.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===c._getDeferredState(this._processQueue)};b.progress=function(){return this._progress};b.response=function(){return this._response}},_getUploadedBytes:function(a){return(a=(a=(a=a.getResponseHeader("Range"))&&
a.split("-"))&&1<a.length&&parseInt(a[1],10))&&a+1},_chunkedUpload:function(a,b){a.uploadedBytes=a.uploadedBytes||0;var c=this,e=a.files[0],g=e.size,f=a.uploadedBytes,j=a.maxChunkSize||g,k=this._blobSlice,o=d.Deferred(),m=o.promise(),n,z;if(!this._isXHRUpload(a)||(!k||!(f||j<g))||a.data)return!1;if(b)return!0;if(f>=g)return e.error=a.i18n("uploadedBytes"),this._getXHRPromise(!1,a.context,[null,"error",e.error]);z=function(){var b=d.extend({},a),l=b._progress.loaded;b.blob=k.call(e,f,f+j,e.type);b.chunkSize=
b.blob.size;b.contentRange="bytes "+f+"-"+(f+b.chunkSize-1)+"/"+g;c._initXHRData(b);c._initProgressListener(b);n=(!1!==c._trigger("chunksend",null,b)&&d.ajax(b)||c._getXHRPromise(!1,b.context)).done(function(e,j,q){f=c._getUploadedBytes(q)||f+b.chunkSize;l+b.chunkSize-b._progress.loaded&&c._onProgress(d.Event("progress",{lengthComputable:!0,loaded:f-b.uploadedBytes,total:f-b.uploadedBytes}),b);a.uploadedBytes=b.uploadedBytes=f;b.result=e;b.textStatus=j;b.jqXHR=q;c._trigger("chunkdone",null,b);c._trigger("chunkalways",
null,b);f<g?z():o.resolveWith(b.context,[e,j,q])}).fail(function(e,a,d){b.jqXHR=e;b.textStatus=a;b.errorThrown=d;c._trigger("chunkfail",null,b);c._trigger("chunkalways",null,b);o.rejectWith(b.context,[e,a,d])})};this._enhancePromise(m);m.abort=function(){return n.abort()};z();return m},_beforeSend:function(a,b){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0);this._initResponseObject(b);this._initProgressObject(b);
b._progress.loaded=b.loaded=b.uploadedBytes||0;b._progress.total=b.total=this._getTotal(b.files)||1;b._progress.bitrate=b.bitrate=0;this._active+=1;this._progress.loaded+=b.loaded;this._progress.total+=b.total},_onDone:function(a,b,c,e){var g=e._progress.total,f=e._response;e._progress.loaded<g&&this._onProgress(d.Event("progress",{lengthComputable:!0,loaded:g,total:g}),e);f.result=e.result=a;f.textStatus=e.textStatus=b;f.jqXHR=e.jqXHR=c;this._trigger("done",null,e)},_onFail:function(a,b,c,e){var d=
e._response;e.recalculateProgress&&(this._progress.loaded-=e._progress.loaded,this._progress.total-=e._progress.total);d.jqXHR=e.jqXHR=a;d.textStatus=e.textStatus=b;d.errorThrown=e.errorThrown=c;this._trigger("fail",null,e)},_onAlways:function(a,b,c,e){this._trigger("always",null,e)},_onSend:function(a,b){b.submit||this._addConvenienceMethods(a,b);var c=this,e,g,f,j,k=c._getAJAXSettings(b),o=function(){c._sending+=1;k._bitrateTimer=new c._BitrateTimer;return e=e||((g||!1===c._trigger("send",d.Event("send",
{delegatedEvent:a}),k))&&c._getXHRPromise(!1,k.context,g)||c._chunkedUpload(k)||d.ajax(k)).done(function(b,e,a){c._onDone(b,e,a,k)}).fail(function(b,e,a){c._onFail(b,e,a,k)}).always(function(b,e,a){c._onAlways(b,e,a,k);c._sending-=1;c._active-=1;if(k.limitConcurrentUploads&&k.limitConcurrentUploads>c._sending)for(b=c._slots.shift();b;){if("pending"===c._getDeferredState(b)){b.resolve();break}b=c._slots.shift()}0===c._active&&c._trigger("stop")})};this._beforeSend(a,k);return this.options.sequentialUploads||
this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(f=d.Deferred(),this._slots.push(f),j=f.pipe(o)):j=this._sequence=this._sequence.pipe(o,o),j.abort=function(){g=[void 0,"abort","abort"];if(!e){f&&f.rejectWith(k.context,g);return o()}return e.abort()},this._enhancePromise(j)):o()},_onAdd:function(a,b){var c=this,e=!0,g=d.extend({},this.options,b),f=b.files,j=f.length,k=g.limitMultiFileUploads,o=g.limitMultiFileUploadSize,
m=g.limitMultiFileUploadSizeOverhead,n=0,z=this._getParamName(g),s,l,t=0;if(o&&(!j||void 0===f[0].size))o=void 0;if(!g.singleFileUploads&&!k&&!o||!this._isXHRUpload(g))l=[f],s=[z];else if(!g.singleFileUploads&&!o&&k){l=[];s=[];for(g=0;g<j;g+=k)l.push(f.slice(g,g+k)),n=z.slice(g,g+k),n.length||(n=z),s.push(n)}else if(!g.singleFileUploads&&o){l=[];s=[];for(g=0;g<j;g+=1)if(n+=f[g].size+m,g+1===j||n+f[g+1].size+m>o||k&&g+1-t>=k)l.push(f.slice(t,g+1)),n=z.slice(t,g+1),n.length||(n=z),s.push(n),t=g+1,n=
0}else s=z;b.originalFiles=f;d.each(l||f,function(f,g){var j=d.extend({},b);j.files=l?g:[g];j.paramName=s[f];c._initResponseObject(j);c._initProgressObject(j);c._addConvenienceMethods(a,j);return e=c._trigger("add",d.Event("add",{delegatedEvent:a}),j)});return e},_replaceFileInput:function(a){var b=a.clone(!0);d("<form></form>").append(b)[0].reset();a.after(b).detach();d.cleanData(a.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(c,e){return e===a[0]?b[0]:e});a[0]===this.element[0]&&
(this.element=b)},_handleFileTreeEntry:function(a,b){var c=this,e=d.Deferred(),g=function(b){b&&!b.entry&&(b.entry=a);e.resolve([b])},f,b=b||"";a.isFile?a._file?(a._file.relativePath=b,e.resolve(a._file)):a.file(function(c){c.relativePath=b;e.resolve(c)},g):a.isDirectory?(f=a.createReader(),f.readEntries(function(d){c._handleFileTreeEntries(d,b+a.name+"/").done(function(b){e.resolve(b)}).fail(g)},g)):e.resolve([]);return e.promise()},_handleFileTreeEntries:function(a,b){var c=this;return d.when.apply(d,
d.map(a,function(e){return c._handleFileTreeEntry(e,b)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(a){var a=a||{},b=a.items;return b&&b.length&&(b[0].webkitGetAsEntry||b[0].getAsEntry)?this._handleFileTreeEntries(d.map(b,function(b){var e;if(b.webkitGetAsEntry){if(e=b.webkitGetAsEntry())e._file=b.getAsFile();return e}return b.getAsEntry()})):d.Deferred().resolve(d.makeArray(a.files)).promise()},_getSingleFileInputFiles:function(a){var a=d(a),b=
a.prop("webkitEntries")||a.prop("entries");if(b&&b.length)return this._handleFileTreeEntries(b);b=d.makeArray(a.prop("files"));if(b.length)void 0===b[0].name&&b[0].fileName&&d.each(b,function(b,e){e.name=e.fileName;e.size=e.fileSize});else{a=a.prop("value");if(!a)return d.Deferred().resolve([]).promise();b=[{name:a.replace(/^.*\\/,"")}]}return d.Deferred().resolve(b).promise()},_getFileInputFiles:function(a){return!(a instanceof d)||1===a.length?this._getSingleFileInputFiles(a):d.when.apply(d,d.map(a,
this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(a){var b=this,c={fileInput:d(a.target),form:d(a.target.form)};this._getFileInputFiles(c.fileInput).always(function(e){c.files=e;b.options.replaceFileInput&&b._replaceFileInput(c.fileInput);!1!==b._trigger("change",d.Event("change",{delegatedEvent:a}),c)&&b._onAdd(a,c)})},_onPaste:function(a){var b=a.originalEvent&&a.originalEvent.clipboardData&&a.originalEvent.clipboardData.items,
c={files:[]};b&&b.length&&(d.each(b,function(b,a){var d=a.getAsFile&&a.getAsFile();d&&c.files.push(d)}),!1!==this._trigger("paste",d.Event("paste",{delegatedEvent:a}),c)&&this._onAdd(a,c))},_onDrop:function(a){a.dataTransfer=a.originalEvent&&a.originalEvent.dataTransfer;var b=this,c=a.dataTransfer,e={};c&&(c.files&&c.files.length)&&(a.preventDefault(),this._getDroppedFiles(c).always(function(c){e.files=c;!1!==b._trigger("drop",d.Event("drop",{delegatedEvent:a}),e)&&b._onAdd(a,e)}))},_onDragOver:function(a){a.dataTransfer=
a.originalEvent&&a.originalEvent.dataTransfer;var b=a.dataTransfer;b&&(-1!==d.inArray("Files",b.types)&&!1!==this._trigger("dragover",d.Event("dragover",{delegatedEvent:a})))&&(a.preventDefault(),b.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste}));d.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,
"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(a,b){var c=-1!==d.inArray(a,this._specialOptions);c&&this._destroyEventHandlers();this._super(a,b);c&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var a=this.options;void 0===a.fileInput?a.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):a.fileInput instanceof d||(a.fileInput=d(a.fileInput));
a.dropZone instanceof d||(a.dropZone=d(a.dropZone));a.pasteZone instanceof d||(a.pasteZone=d(a.pasteZone))},_getRegExp:function(a){var a=a.split("/"),b=a.pop();a.shift();return RegExp(a.join("/"),b)},_isRegExpOption:function(a,b){return"url"!==a&&"string"===d.type(b)&&/^\/.*\/[igm]{0,3}$/.test(b)},_initDataAttributes:function(){var a=this,b=this.options,c=d(this.element[0].cloneNode(!1));d.each(c.data(),function(e,d){var f="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();c.attr(f)&&(a._isRegExpOption(e,
d)&&(d=a._getRegExp(d)),b[e]=d)})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(a){var b=this;a&&!this.options.disabled&&(a.fileInput&&!a.files?this._getFileInputFiles(a.fileInput).always(function(c){a.files=c;b._onAdd(null,a)}):(a.files=
d.makeArray(a.files),this._onAdd(null,a)))},send:function(a){if(a&&!this.options.disabled){if(a.fileInput&&!a.files){var b=this,c=d.Deferred(),e=c.promise(),g,f;e.abort=function(){f=!0;if(g)return g.abort();c.reject(null,"abort","abort");return e};this._getFileInputFiles(a.fileInput).always(function(e){f||(e.length?(a.files=e,g=b._onSend(null,a).then(function(b,a,e){c.resolve(b,a,e)},function(b,a,e){c.reject(b,a,e)})):c.reject())});return this._enhancePromise(e)}a.files=d.makeArray(a.files);if(a.files.length)return this._onSend(null,
a)}return this._getXHRPromise(!1,a&&a.context)}})});(function(d){"function"===typeof define&&define.amd?define("jquery tmpl ./jquery.fileupload-image ./jquery.fileupload-audio ./jquery.fileupload-video ./jquery.fileupload-validate".split(" "),d):d(window.jQuery,window.tmpl)})(function(d,a){d.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId");d.widget("blueimp.fileupload",d.blueimp.fileupload,{options:{autoUpload:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,
prependFiles:!1,dataType:"json",getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(b){return b.result&&d.isArray(b.result.files)?b.result.files:[]},add:function(b,c){if(b.isDefaultPrevented())return!1;var a=d(this),g=a.data("blueimp-fileupload")||a.data("fileupload"),f=g.options;c.context=g._renderUpload(c.files).data("data",c).addClass("processing");f.filesContainer[f.prependFiles?"prepend":"append"](c.context);g._forceReflow(c.context);
g._transition(c.context);c.process(function(){return a.fileupload("process",c)}).always(function(){c.context.each(function(b){d(this).find(".size").text(g._formatFileSize(c.files[b].size))}).removeClass("processing");g._renderPreviews(c)}).done(function(){c.context.find(".start").prop("disabled",!1);!1!==g._trigger("added",b,c)&&((f.autoUpload||c.autoUpload)&&!1!==c.autoUpload)&&c.submit()}).fail(function(){c.files.error&&c.context.each(function(b){(b=c.files[b].error)&&d(this).find(".error").text(b)})})},
send:function(b,c){if(b.isDefaultPrevented())return!1;var a=d(this).data("blueimp-fileupload")||d(this).data("fileupload");c.context&&(c.dataType&&"iframe"===c.dataType.substr(0,6))&&c.context.find(".progress").addClass(!d.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%");return a._trigger("sent",b,c)},done:function(b,c){if(b.isDefaultPrevented())return!1;var a=d(this).data("blueimp-fileupload")||d(this).data("fileupload"),g=(c.getFilesFromResponse||
a.options.getFilesFromResponse)(c),f,j;c.context?c.context.each(function(k){var o=g[k]||{error:"Empty file upload result"};j=a._addFinishedDeferreds();a._transition(d(this)).done(function(){var g=d(this);f=a._renderDownload([o]).replaceAll(g);a._forceReflow(f);a._transition(f).done(function(){c.context=d(this);a._trigger("completed",b,c);a._trigger("finished",b,c);j.resolve()})})}):(f=a._renderDownload(g)[a.options.prependFiles?"prependTo":"appendTo"](a.options.filesContainer),a._forceReflow(f),j=
a._addFinishedDeferreds(),a._transition(f).done(function(){c.context=d(this);a._trigger("completed",b,c);a._trigger("finished",b,c);j.resolve()}))},fail:function(b,c){if(b.isDefaultPrevented())return!1;var a=d(this).data("blueimp-fileupload")||d(this).data("fileupload"),g,f;c.context?c.context.each(function(j){if("abort"!==c.errorThrown){var k=c.files[j];k.error=k.error||c.errorThrown||!0;f=a._addFinishedDeferreds();a._transition(d(this)).done(function(){var j=d(this);g=a._renderDownload([k]).replaceAll(j);
a._forceReflow(g);a._transition(g).done(function(){c.context=d(this);a._trigger("failed",b,c);a._trigger("finished",b,c);f.resolve()})})}else f=a._addFinishedDeferreds(),a._transition(d(this)).done(function(){d(this).remove();a._trigger("failed",b,c);a._trigger("finished",b,c);f.resolve()})}):"abort"!==c.errorThrown?(c.context=a._renderUpload(c.files)[a.options.prependFiles?"prependTo":"appendTo"](a.options.filesContainer).data("data",c),a._forceReflow(c.context),f=a._addFinishedDeferreds(),a._transition(c.context).done(function(){c.context=
d(this);a._trigger("failed",b,c);a._trigger("finished",b,c);f.resolve()})):(a._trigger("failed",b,c),a._trigger("finished",b,c),a._addFinishedDeferreds().resolve())},progress:function(b,c){if(b.isDefaultPrevented())return!1;var a=Math.floor(100*(c.loaded/c.total));c.context&&c.context.each(function(){d(this).find(".progress").attr("aria-valuenow",a).children().first().css("width",a+"%")})},progressall:function(b,c){if(b.isDefaultPrevented())return!1;var a=d(this),g=Math.floor(100*(c.loaded/c.total)),
f=a.find(".fileupload-progress"),j=f.find(".progress-extended");j.length&&j.html((a.data("blueimp-fileupload")||a.data("fileupload"))._renderExtendedProgress(c));f.find(".progress").attr("aria-valuenow",g).children().first().css("width",g+"%")},start:function(b){if(b.isDefaultPrevented())return!1;var c=d(this).data("blueimp-fileupload")||d(this).data("fileupload");c._resetFinishedDeferreds();c._transition(d(this).find(".fileupload-progress")).done(function(){c._trigger("started",b)})},stop:function(b){if(b.isDefaultPrevented())return!1;
var c=d(this).data("blueimp-fileupload")||d(this).data("fileupload"),a=c._addFinishedDeferreds();d.when.apply(d,c._getFinishedDeferreds()).done(function(){c._trigger("stopped",b)});c._transition(d(this).find(".fileupload-progress")).done(function(){d(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%");d(this).find(".progress-extended").html("&nbsp;");a.resolve()})},processstart:function(b){if(b.isDefaultPrevented())return!1;d(this).addClass("fileupload-processing")},
processstop:function(b){if(b.isDefaultPrevented())return!1;d(this).removeClass("fileupload-processing")},destroy:function(b,c){if(b.isDefaultPrevented())return!1;var a=d(this).data("blueimp-fileupload")||d(this).data("fileupload"),g=function(){a._transition(c.context).done(function(){d(this).remove();a._trigger("destroyed",b,c)})};c.url?(c.dataType=c.dataType||a.options.dataType,d.ajax(c).done(g).fail(function(){a._trigger("destroyfailed",b,c)})):g()}},_resetFinishedDeferreds:function(){this._finishedUploads=
[]},_addFinishedDeferreds:function(b){b||(b=d.Deferred());this._finishedUploads.push(b);return b},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var b=d(this),c=b.prop("href"),a=b.prop("download");b.bind("dragstart",function(b){try{b.originalEvent.dataTransfer.setData("DownloadURL",["application/octet-stream",a,c].join(":"))}catch(d){}})},_formatFileSize:function(b){return"number"!==typeof b?"":1E9<=b?(b/1E9).toFixed(2)+" GB":1E6<=b?(b/1E6).toFixed(2)+
" MB":(b/1E3).toFixed(2)+" KB"},_formatBitrate:function(b){return"number"!==typeof b?"":1E9<=b?(b/1E9).toFixed(2)+" Gbit/s":1E6<=b?(b/1E6).toFixed(2)+" Mbit/s":1E3<=b?(b/1E3).toFixed(2)+" kbit/s":b.toFixed(2)+" bit/s"},_formatTime:function(b){var c=new Date(1E3*b),b=Math.floor(b/86400);return(b?b+"d ":"")+("0"+c.getUTCHours()).slice(-2)+":"+("0"+c.getUTCMinutes()).slice(-2)+":"+("0"+c.getUTCSeconds()).slice(-2)},_formatPercentage:function(b){return(100*b).toFixed(2)+" %"},_renderExtendedProgress:function(b){return this._formatBitrate(b.bitrate)+
" | "+this._formatTime(8*(b.total-b.loaded)/b.bitrate)+" | "+this._formatPercentage(b.loaded/b.total)+" | "+this._formatFileSize(b.loaded)+" / "+this._formatFileSize(b.total)},_renderTemplate:function(b,c){if(!b)return d();var a=b({files:c,formatFileSize:this._formatFileSize,options:this.options});return a instanceof d?a:d(this.options.templatesContainer).html(a).children()},_renderPreviews:function(b){b.context.find(".preview").each(function(c,a){d(a).append(b.files[c].preview)})},_renderUpload:function(b){return this._renderTemplate(this.options.uploadTemplate,
b)},_renderDownload:function(b){return this._renderTemplate(this.options.downloadTemplate,b).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(b){b.preventDefault();var b=d(b.currentTarget),c=b.closest(".template-upload").data("data");b.prop("disabled",!0);c&&c.submit&&c.submit()},_cancelHandler:function(b){b.preventDefault();var c=d(b.currentTarget).closest(".template-upload,.template-download"),a=c.data("data")||{};a.context=a.context||c;a.abort?a.abort():(a.errorThrown=
"abort",this._trigger("fail",b,a))},_deleteHandler:function(b){b.preventDefault();var a=d(b.currentTarget);this._trigger("destroy",b,d.extend({context:a.closest(".template-download"),type:"DELETE"},a.data()))},_forceReflow:function(b){return d.support.transition&&b.length&&b[0].offsetWidth},_transition:function(b){var a=d.Deferred();d.support.transition&&b.hasClass("fade")&&b.is(":visible")?b.bind(d.support.transition.end,function(e){e.target===b[0]&&(b.unbind(d.support.transition.end),a.resolveWith(b))}).toggleClass("in"):
(b.toggleClass("in"),a.resolveWith(b));return a},_initButtonBarEventHandlers:function(){var b=this.element.find(".fileupload-buttonbar"),a=this.options.filesContainer;this._on(b.find(".start"),{click:function(b){b.preventDefault();a.find(".start").click()}});this._on(b.find(".cancel"),{click:function(b){b.preventDefault();a.find(".cancel").click()}});this._on(b.find(".delete"),{click:function(d){d.preventDefault();a.find(".toggle:checked").closest(".template-download").find(".delete").click();b.find(".toggle").prop("checked",
!1)}});this._on(b.find(".toggle"),{change:function(b){a.find(".toggle").prop("checked",d(b.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click");this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super();this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler});
this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers();this._off(this.options.filesContainer,"click");this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var b=this.options;b.templatesContainer=this.document[0].createElement(b.filesContainer.prop("nodeName"));
if(a&&(b.uploadTemplateId&&(b.uploadTemplate=a(b.uploadTemplateId)),b.downloadTemplateId))b.downloadTemplate=a(b.downloadTemplateId)},_initFilesContainer:function(){var b=this.options;void 0===b.filesContainer?b.filesContainer=this.element.find(".files"):b.filesContainer instanceof d||(b.filesContainer=d(b.filesContainer))},_initSpecialOptions:function(){this._super();this._initFilesContainer();this._initTemplates()},_create:function(){this._super();this._resetFinishedDeferreds();d.support.fileInput||
this._disableFileInputButton()},enable:function(){var b=!1;this.options.disabled&&(b=!0);this._super();b&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton());this._super()}})});(function(d){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload"],d):d(window.jQuery)})(function(d){var a=d.blueimp.fileupload.prototype.options.add;d.widget("blueimp.fileupload",d.blueimp.fileupload,{options:{processQueue:[],add:function(b,c){var e=d(this);c.process(function(){return e.fileupload("process",c)});a.call(this,b,c)}},processActions:{},_processFile:function(b,a){var e=this,g=d.Deferred().resolveWith(e,[b]).promise();this._trigger("process",null,b);d.each(b.processQueue,
function(b,j){var k=function(b){return a.errorThrown?d.Deferred().rejectWith(e,[a]).promise():e.processActions[j.action].call(e,b,j)};g=g.pipe(k,j.always&&k)});g.done(function(){e._trigger("processdone",null,b);e._trigger("processalways",null,b)}).fail(function(){e._trigger("processfail",null,b);e._trigger("processalways",null,b)});return g},_transformProcessQueue:function(b){var a=[];d.each(b.processQueue,function(){var e={},g=this.action,f=!0===this.prefix?g:this.prefix;d.each(this,function(a,c){e[a]=
"string"===d.type(c)&&"@"===c.charAt(0)?b[c.slice(1)||(f?f+a.charAt(0).toUpperCase()+a.slice(1):a)]:c});a.push(e)});b.processQueue=a},processing:function(){return this._processing},process:function(b){var a=this,e=d.extend({},this.options,b);e.processQueue&&e.processQueue.length&&(this._transformProcessQueue(e),0===this._processing&&this._trigger("processstart"),d.each(b.files,function(g){var f=g?d.extend({},e):e,j=function(){return b.errorThrown?d.Deferred().rejectWith(a,[b]).promise():a._processFile(f,
b)};f.index=g;a._processing+=1;a._processingQueue=a._processingQueue.pipe(j,j).always(function(){a._processing-=1;0===a._processing&&a._trigger("processstop")})}));return this._processingQueue},_create:function(){this._super();this._processing=0;this._processingQueue=d.Deferred().resolveWith(this).promise()}})});(function(d){function a(){var b=!1,a=!1;this.stopPropagation=function(){b=!0};this.isPropagationStopped=function(){return b};this.stopImmediatePropagation=function(){a=!0};this.isImmediatePropagationStopped=function(){return a}}function b(){this.__nonDataRow=!0}function c(){this.__group=!0;this.count=this.level=0;this.title=this.value=null;this.collapsed=!1;this.totals=null;this.rows=[];this.groupingKey=this.groups=null}function e(){this.__groupTotals=!0;this.group=null;this.initialized=!1}function g(){var b=
null;this.isActive=function(a){return a?b===a:null!==b};this.activate=function(a){if(a!==b){if(null!==b)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!a.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!a.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";b=a}};this.deactivate=function(a){if(b!==a)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";
b=null};this.commitCurrentEdit=function(){return b?b.commitCurrentEdit():!0};this.cancelCurrentEdit=function(){return b?b.cancelCurrentEdit():!0}}d.extend(!0,window,{Slick:{Event:function(){var b=[];this.subscribe=function(a){b.push(a)};this.unsubscribe=function(a){for(var c=b.length-1;c>=0;c--)b[c]===a&&b.splice(c,1)};this.notify=function(c,d,e){for(var d=d||new a,e=e||this,g,n=0;n<b.length&&!d.isPropagationStopped()&&!d.isImmediatePropagationStopped();n++)g=b[n].call(e,d,c);return g}},EventData:a,
EventHandler:function(){var b=[];this.subscribe=function(a,c){b.push({event:a,handler:c});a.subscribe(c);return this};this.unsubscribe=function(a,c){for(var d=b.length;d--;)if(b[d].event===a&&b[d].handler===c){b.splice(d,1);a.unsubscribe(c);return}return this};this.unsubscribeAll=function(){for(var a=b.length;a--;)b[a].event.unsubscribe(b[a].handler);b=[];return this}},Range:function(b,a,c,d){if(c===void 0&&d===void 0){c=b;d=a}this.fromRow=Math.min(b,c);this.fromCell=Math.min(a,d);this.toRow=Math.max(b,
c);this.toCell=Math.max(a,d);this.isSingleRow=function(){return this.fromRow==this.toRow};this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell};this.contains=function(b,a){return b>=this.fromRow&&b<=this.toRow&&a>=this.fromCell&&a<=this.toCell};this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:b,Group:c,GroupTotals:e,EditorLock:g,GlobalEditorLock:new g,
keyCode:{BACKSPACE:8,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,TAB:9,UP:38}}});c.prototype=new b;c.prototype.equals=function(b){return this.value===b.value&&this.count===b.count&&this.collapsed===b.collapsed&&this.title===b.title};e.prototype=new b})(jQuery);(function(d){d.extend(!0,window,{Slick:{RowSelectionModel:function(a){function b(b){return function(){if(!l){l=true;b.apply(this,arguments);l=false}}}function c(b){for(var a=[],c=0;c<b.length;c++)for(var d=b[c].fromRow;d<=b[c].toRow;d++)a.push(d);return a}function e(b){for(var a=[],c=m.getColumns().length-1,d=0;d<b.length;d++)a.push(new Slick.Range(b[d],0,b[d],c));return a}function g(){return c(n)}function f(b){if(n&&n.length!==0||b&&b.length!==0){n=b;z.onSelectedRangesChanged.notify(n)}}function j(b,
a){t.selectActiveRow&&a.row!=null&&f([new Slick.Range(a.row,0,a.row,m.getColumns().length-1)])}function k(b){var a=m.getActiveCell();if(a&&b.shiftKey&&!b.ctrlKey&&!b.altKey&&!b.metaKey&&(b.which==38||b.which==40)){var c=g();c.sort(function(b,a){return b-a});c.length||(c=[a.row]);var d=c[0],c=c[c.length-1],a=b.which==40?a.row<c||d==c?++c:++d:a.row<c?--c:--d;if(a>=0&&a<m.getDataLength()){m.scrollRowIntoView(a);for(var j=[],a=d;a<=c;a++)j.push(a);for(a=c;a<d;a++)j.push(a);n=e(j);f(n)}b.preventDefault();
b.stopPropagation()}}function o(b){var a=m.getCellFromEvent(b);if(!a||!m.canCellBeActive(a.row,a.cell)||!m.getOptions().multiSelect||!b.ctrlKey&&!b.shiftKey&&!b.metaKey)return false;var g=c(n),j=d.inArray(a.row,g);if(j===-1&&(b.ctrlKey||b.metaKey)){g.push(a.row);m.setActiveCell(a.row,a.cell)}else if(j!==-1&&(b.ctrlKey||b.metaKey)){g=d.grep(g,function(b){return b!==a.row});m.setActiveCell(a.row,a.cell)}else if(g.length&&b.shiftKey){for(var j=g.pop(),h=Math.min(a.row,j),l=Math.max(a.row,j),g=[];h<=
l;h++)h!==j&&g.push(h);g.push(j);m.setActiveCell(a.row,a.cell)}n=e(g);f(n);b.stopImmediatePropagation();return true}var m,n=[],z=this,s=new Slick.EventHandler,l,t,h={selectActiveRow:true};d.extend(this,{getSelectedRows:g,setSelectedRows:function(b){f(e(b))},getSelectedRanges:function(){return n},setSelectedRanges:f,init:function(c){t=d.extend(true,{},h,a);m=c;s.subscribe(m.onActiveCellChanged,b(j));s.subscribe(m.onKeyDown,b(k));s.subscribe(m.onClick,b(o))},destroy:function(){s.unsubscribeAll()},onSelectedRangesChanged:new Slick.Event})}}})})(jQuery);/*

 (c) 2009-2013 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.2

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
if("undefined"===typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"===typeof Slick)throw"slick.core.js not loaded";
(function(d){d.extend(!0,window,{Slick:{Grid:function(c,e,g,f){function j(){if(!U){U=true;M=parseFloat(d.css(u[0],"width",true));var b,a=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],e=d.fn.jquery.split(".");Ob=e[0]==1&&e[1]>=8||e[0]>=2;b=d("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo(A);ea=lb=0;if(b.css("box-sizing")!="border-box"&&b.css("-moz-box-sizing")!=
"border-box"&&b.css("-webkit-box-sizing")!="border-box"){d.each(a,function(a,v){ea=ea+(parseFloat(b.css(v))||0)});d.each(c,function(a,v){lb=lb+(parseFloat(b.css(v))||0)})}b.remove();e=d("<div class='slick-row' />").appendTo(H);b=d("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(e);Oa=Pa=0;if(b.css("box-sizing")!="border-box"&&b.css("-moz-box-sizing")!="border-box"&&b.css("-webkit-box-sizing")!="border-box"){d.each(a,function(a,v){Oa=Oa+(parseFloat(b.css(v))||0)});d.each(c,
function(a,v){Pa=Pa+(parseFloat(b.css(v))||0)})}e.remove();fa=Math.max(ea,Oa);A&&A.jquery&&A.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false});f.enableTextSelectionOnCells||D.bind("selectstart.ui",function(b){return d(b.target).is("input,textarea")});mb();z();A.click(function(b){b.metaKey=b.metaKey||b.ctrlKey;if(!d(b.target).hasClass("slick-resizable-handle")){var a=d(b.target).closest(".slick-header-column");if(a.length){a=a.data("column");if(a.sortable&&
q().commitCurrentEdit()){for(var F=null,v=0;v<I.length;v++)if(I[v].columnId==a.id){F=I[v];F.sortAsc=!F.sortAsc;break}if(b.metaKey&&f.multiColumnSort)F&&I.splice(v,1);else{if(!b.shiftKey&&!b.metaKey||!f.multiColumnSort)I=[];if(F)I.length==0&&I.push(F);else{F={columnId:a.id,sortAsc:a.defaultSortAsc};I.push(F)}}Na(I);f.multiColumnSort?h(i.onSort,{multiColumnSort:true,sortCols:d.map(I,function(b){return{sortCol:g[O[b.columnId]],sortAsc:b.sortAsc}}),grid:i},b):h(i.onSort,{multiColumnSort:false,sortCol:a,
sortAsc:F.sortAsc,grid:i},b)}}}});t();ca();for(a=H[0];(a=a.parentNode)!=document.body&&a!=null;)if(a==D[0]||a.scrollWidth!=a.clientWidth||a.scrollHeight!=a.clientHeight){c=d(a);sa=sa?sa.add(c):c;c.bind("scroll."+N,Pb)}u.bind("resize.slickgrid",ca);D.bind("scroll",Da);ta.bind("contextmenu",Ec).bind("click",Fc).delegate(".slick-header-column","mouseenter",Gc).delegate(".slick-header-column","mouseleave",Hc);W.bind("scroll",Ic);Qa.add(nb).bind("keydown",Qb);H.bind("keydown",Qb).bind("click",Jc).bind("dblclick",
Kc).bind("contextmenu",Lc).bind("draginit",Mc).bind("dragstart",{distance:3},Nc).bind("drag",Oc).bind("dragend",Pc).delegate(".slick-cell","mouseenter",Qc).delegate(".slick-cell","mouseleave",Rc);navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&H.bind("mousewheel",Sc);ob.each(function(b){var b=Rb[b],a;for(a in pb)this.style[a]=b[a]})}}function k(b){for(var a=ga.length;a>=0;a--)if(ga[a]===b){ga[a].destroy&&ga[a].destroy();ga.splice(a,1);break}}
function o(){for(var b=0,v=0,c=g.length;v<c;v++)b=b+g[v].width;b=b+a.width;return Math.max(b,M)+1E3}function m(){for(var b=ua?M-a.width:M,v=0,c=g.length;c--;)v=v+g[c].width;return f.fullWidthRows?Math.max(v,b):v}function n(b){var v=X;X=m();if(X!=v){H.width(X);ja.width(X);A.width(o());qb=X>M-a.width}Sb.width(X+(ua?a.width:0));(X!=v||b)&&kb()}function z(){function b(){d(this).addClass("ui-state-hover")}function a(){d(this).removeClass("ui-state-hover")}A.find(".slick-header-column").each(function(){var b=
d(this).data("column");b&&h(i.onBeforeHeaderCellDestroy,{node:this,column:b,grid:i})});A.empty();A.width(o());ja.find(".slick-headerrow-column").each(function(){var b=d(this).data("column");b&&h(i.onBeforeHeaderRowCellDestroy,{node:this,column:b,grid:i})});ja.empty();for(var c=0;c<g.length;c++){var e=g[c],ba=d("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+e.name+"</span>").width(e.width-ea).attr("id",""+N+e.id).attr("title",e.toolTip||"").data("column",
e).addClass(e.headerCssClass||"").appendTo(A);if(f.enableColumnReorder||e.sortable)ba.on("mouseenter",b).on("mouseleave",a);if(e.sortable){ba.addClass("slick-header-sortable");ba.append("<span class='slick-sort-indicator' />")}h(i.onHeaderCellRendered,{node:ba[0],column:e,grid:i});if(f.showHeaderRow){ba=d("<div class='ui-state-default slick-headerrow-column l"+c+" r"+c+"'></div>").data("column",e).appendTo(ja);h(i.onHeaderRowCellRendered,{node:ba[0],column:e,grid:i})}}Na(I);s();if(f.enableColumnReorder){A.filter(":ui-sortable").sortable("destroy");
A.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",start:function(b,a){a.placeholder.width(a.helper.outerWidth()-ea);d(a.helper).addClass("slick-header-column-active")},beforeStop:function(b,a){d(a.helper).removeClass("slick-header-column-active")},stop:function(b){if(q().commitCurrentEdit()){for(var a=A.sortable("toArray"),F=[],v=0;v<a.length;v++)F.push(g[Lb(a[v].replace(N,
""))]);Tb(F);h(i.onColumnsReordered,{grid:i});b.stopPropagation();s()}else d(this).sortable("cancel")}})}}function s(){var b,a,c,e,ba,j,V,l;e=A.children();e.find(".slick-resizable-handle").remove();e.each(function(b){if(g[b].resizable){V===void 0&&(V=b);l=b}});V!==void 0&&e.each(function(k,t){if(!(k<V||f.forceFitColumns&&k>=l)){d(t);d("<div class='slick-resizable-handle' />").appendTo(t).bind("dragstart",function(i){if(!q().commitCurrentEdit())return false;c=i.pageX;d(this).parent().addClass("slick-header-column-active");
var h=i=null;e.each(function(b,a){g[b].previousWidth=d(a).outerWidth()});if(f.forceFitColumns){h=i=0;for(b=k+1;b<e.length;b++){a=g[b];if(a.resizable){h!==null&&(h=a.maxWidth?h+(a.maxWidth-a.previousWidth):null);i=i+(a.previousWidth-Math.max(a.minWidth||0,fa))}}}var V=0,l=0;for(b=0;b<=k;b++){a=g[b];if(a.resizable){l!==null&&(l=a.maxWidth?l+(a.maxWidth-a.previousWidth):null);V=V+(a.previousWidth-Math.max(a.minWidth||0,fa))}}i===null&&(i=1E5);V===null&&(V=1E5);h===null&&(h=1E5);l===null&&(l=1E5);j=c+
Math.min(i,l);ba=c-Math.min(V,h)}).bind("drag",function(d){var i=Math.min(j,Math.max(ba,d.pageX))-c,h;if(i<0){h=i;for(b=k;b>=0;b--){a=g[b];if(a.resizable){d=Math.max(a.minWidth||0,fa);if(h&&a.previousWidth+h<d){h=h+(a.previousWidth-d);a.width=d}else{a.width=a.previousWidth+h;h=0}}}if(f.forceFitColumns){h=-i;for(b=k+1;b<e.length;b++){a=g[b];if(a.resizable)if(h&&a.maxWidth&&a.maxWidth-a.previousWidth<h){h=h-(a.maxWidth-a.previousWidth);a.width=a.maxWidth}else{a.width=a.previousWidth+h;h=0}}}}else{h=
i;for(b=k;b>=0;b--){a=g[b];if(a.resizable)if(h&&a.maxWidth&&a.maxWidth-a.previousWidth<h){h=h-(a.maxWidth-a.previousWidth);a.width=a.maxWidth}else{a.width=a.previousWidth+h;h=0}}if(f.forceFitColumns){h=-i;for(b=k+1;b<e.length;b++){a=g[b];if(a.resizable){d=Math.max(a.minWidth||0,fa);if(h&&a.previousWidth+h<d){h=h+(a.previousWidth-d);a.width=d}else{a.width=a.previousWidth+h;h=0}}}}}Mb();f.syncColumnCellResize&&kb()}).bind("dragend",function(){var c;d(this).parent().removeClass("slick-header-column-active");
for(b=0;b<e.length;b++){a=g[b];c=d(e[b]).outerWidth();a.previousWidth!==c&&a.rerenderOnResize&&ka()}n(true);J();h(i.onColumnsResized,{grid:i})})}})}function l(b){var a=0;d.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(c,d){a=a+(parseFloat(b.css(d))||0)});return a}function t(){la=d("<style type='text/css' rel='stylesheet' />").appendTo(d("head"));for(var b=["."+N+" .slick-header-column { left: 1000px; }","."+N+" .slick-top-panel { height:"+f.topPanelHeight+"px; }",
"."+N+" .slick-headerrow-columns { height:"+f.headerRowHeight+"px; }","."+N+" .slick-cell { height:"+(f.rowHeight-Pa)+"px; }","."+N+" .slick-row { height:"+f.rowHeight+"px; }"],a=0;a<g.length;a++){b.push("."+N+" .l"+a+" { }");b.push("."+N+" .r"+a+" { }")}la[0].styleSheet?la[0].styleSheet.cssText=b.join(" "):la[0].appendChild(document.createTextNode(b.join(" ")))}function h(b,a,c){c=c||new Slick.EventData;a=a||{};a.grid=i;return b.notify(a,c,i)}function q(){return f.editorLock}function Lb(b){return O[b]}
function jb(){var b,c,d=[],e=0,f=0,h,j=ua?M-a.width:M;for(b=0;b<g.length;b++){c=g[b];d.push(c.width);f=f+c.width;c.resizable&&(e=e+(c.width-Math.max(c.minWidth,fa)))}for(h=f;f>j&&e;){var i=(f-j)/e;for(b=0;b<g.length&&f>j;b++){c=g[b];var l=d[b];if(c.resizable&&!(l<=c.minWidth||l<=fa)){c=Math.max(c.minWidth,fa);var k=Math.floor(i*(l-c))||1,k=Math.min(k,l-c),f=f-k,e=e-k;d[b]=d[b]-k}}if(h<=f)break;h=f}for(h=f;f<j;){e=j/f;for(b=0;b<g.length&&f<j;b++){c=g[b];i=d[b];c=!c.resizable||c.maxWidth<=i?0:Math.min(Math.floor(e*
i)-i,c.maxWidth-i||1E6)||1;f=f+c;d[b]=d[b]+(f<=j?c:0)}if(h>=f)break;h=f}f=false;for(b=0;b<g.length;b++){g[b].rerenderOnResize&&g[b].width!=d[b]&&(f=true);g[b].width=d[b]}Mb();n(true);if(f){ka();J()}}function Mb(){if(U){for(var b,a=0,c=A.children(),e=c.length;a<e;a++){b=d(c[a]);Ob?b.outerWidth()!==g[a].width&&b.outerWidth(g[a].width):b.width()!==g[a].width-ea&&b.width(g[a].width-ea)}mb()}}function kb(){for(var b,a,c=0,d,e=0;e<g.length;e++){d=g[e].width;a=e;if(!ma){var f=document.styleSheets;for(b=
0;b<f.length;b++)if((f[b].ownerNode||f[b].owningElement)==la[0]){ma=f[b];break}if(!ma)throw Error("Cannot find stylesheet.");rb=[];sb=[];var f=ma.cssRules||ma.rules,h=void 0,h=void 0;for(b=0;b<f.length;b++){var j=f[b].selectorText;if(h=/\.l\d+/.exec(j)){h=parseInt(h[0].substr(2,h[0].length-2),10);rb[h]=f[b]}else if(h=/\.r\d+/.exec(j)){h=parseInt(h[0].substr(2,h[0].length-2),10);sb[h]=f[b]}}}b=rb[a];a=sb[a];b.style.left=c+"px";a.style.right=X-c-d+"px";c=c+g[e].width}}function Na(b){I=b;var a=A.children();
a.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");d.each(I,function(b,c){if(c.sortAsc==null)c.sortAsc=true;var F=O[c.columnId];F!=null&&a.eq(F).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(c.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function Nb(b,a){tb=[];for(var c={},d=0;d<a.length;d++)for(var e=a[d].fromRow;e<=a[d].toRow;e++){if(!c[e]){tb.push(e);c[e]=
{}}for(var j=a[d].fromCell;j<=a[d].toCell;j++)if(Ub(e,j))c[e][g[j].id]=f.selectedCellCssClass}Vb(f.selectedCellCssClass,c);h(i.onSelectedRowsChanged,{rows:Wb(),grid:i},b)}function mb(){va=[];wa=[];for(var b=0,a=0,c=g.length;a<c;a++){va[a]=b;wa[a]=b+g[a].width;b=b+g[a].width}}function Tb(b){g=b;O={};for(b=0;b<g.length;b++){var a=g[b]=d.extend({},ub,g[b]);O[a.id]=b;if(a.minWidth&&a.width<a.minWidth)a.width=a.minWidth;if(a.maxWidth&&a.width>a.maxWidth)a.width=a.maxWidth}mb();if(U){ka();z();la.remove();
ma=null;t();ca();kb();Da()}}function K(){return e.getLength?e.getLength():e.length}function da(){return K()+(f.enableAddRow?1:0)}function Y(b){return e.getItem?e.getItem(b):e[b]}function Ra(b){return Math.floor((b+C)/f.rowHeight)}function ha(b){var b=Math.max(b,0),b=Math.min(b,Z-E+(qb?a.height:0)),c=C;xa=Math.min(ya-1,Math.floor(b/za));C=Math.round(xa*Sa);b=b-C;if(C!=c){var d=Ta(b);Xb(d);for(var e in x)x[e].rowNode.style.top=f.rowHeight*e-C+"px"}if(Aa!=b){na=Aa+c<b+C?1:-1;D[0].scrollTop=Ua=B=Aa=b;
h(i.onViewportChanged,{grid:i})}}function Va(b,a){var c=e.getItemMetadata&&e.getItemMetadata(b),d=c&&c.columns&&(c.columns[a.id]||c.columns[O[a.id]]);return d&&d.formatter||c&&c.formatter||a.formatter||f.formatterFactory&&f.formatterFactory.getFormatter(a)||f.defaultFormatter}function Yb(b,a){var c=g[a],d=e.getItemMetadata&&e.getItemMetadata(b);return(d=d&&d.columns)&&d[c.id]&&d[c.id].editor!==void 0?d[c.id].editor:d&&d[a]&&d[a].editor!==void 0?d[a].editor:c.editor||f.editorFactory&&f.editorFactory.getEditor(c)}
function Wa(b,a){return f.dataItemColumnValueExtractor?f.dataItemColumnValueExtractor(b,a):b[a.field]}function Zb(b,a,c,d,e){var f=g[c],h="slick-cell l"+c+" r"+Math.min(g.length-1,c+d-1)+(f.cssClass?" "+f.cssClass:"");a===r&&c===y&&(h=h+" active");for(var j in P)P[j][a]&&P[j][a][f.id]&&(h=h+(" "+P[j][a][f.id]));b.push("<div class='"+h+"'>");if(e){h=Wa(e,f);b.push(Va(a,f)(a,c,h,f,e))}b.push("</div>");x[a].cellRenderQueue.push(c);x[a].cellColSpans[c]=d}function Xb(b){for(var a in x)(a=parseInt(a,10))!==
r&&(a<b.top||a>b.bottom)&&Xa(a);f.enableAsyncPostRenderCleanup&&Ea()}function ka(){p&&$();for(var b in x)Xa(b);f.enableAsyncPostRenderCleanup&&Ea()}function $b(b,a,c){Fa++;for(var e in a)a.hasOwnProperty(e)&&ia.push({actionType:"C",groupId:Fa,node:b.cellNodesByColumnIdx[e|0],columnIdx:e|0,rowIdx:c});ia.push({actionType:"R",groupId:Fa,node:b.rowNode});d(b.rowNode).detach()}function Xa(b){var a=x[b];if(a){if(Ya===a.rowNode){a.rowNode.style.display="none";Ga=Ya;vb=a;Za=G[b]}else f.enableAsyncPostRenderCleanup&&
G[b]?$b(a,G[b],b):H[0].removeChild(a.rowNode);delete x[b];delete G[b];wb--;ac++}}function bc(b){var a,c;if(b&&b.length){a=na=0;for(c=b.length;a<c;a++){p&&r===b[a]&&$();x[b[a]]&&Xa(b[a])}f.enableAsyncPostRenderCleanup&&Ea()}}function cc(b){bc([b])}function xb(b){var a=x[b];if(a){$a(b);var c=Y(b),d;for(d in a.cellNodesByColumnIdx)if(a.cellNodesByColumnIdx.hasOwnProperty(d)){d=d|0;var e=g[d],f=a.cellNodesByColumnIdx[d];b===r&&d===y&&p?p.loadValue(c):f.innerHTML=c?Va(b,e)(b,d,Wa(c,e),e,c):""}yb(b)}}function ca(){if(U){E=
f.autoHeight?f.rowHeight*da():parseFloat(d.css(u[0],"height",true))-parseFloat(d.css(u[0],"paddingTop",true))-parseFloat(d.css(u[0],"paddingBottom",true))-parseFloat(d.css(ta[0],"height"))-l(ta)-(f.showTopPanel?f.topPanelHeight+l(oa):0)-(f.showHeaderRow?f.headerRowHeight+l(W):0);ab=Math.ceil(E/f.rowHeight);M=parseFloat(d.css(u[0],"width",true));f.autoHeight||D.height(E);f.forceFitColumns&&jb();bb();Da();Ha=-1;J()}}function bb(){if(U){var c=da(),d=c+(f.leaveSpaceForNewRows?ab-1:0),e=ua;ua=!f.autoHeight&&
d*f.rowHeight>E;$();var c=c-1,g;for(g in x)g>=c&&Xa(g);f.enableAsyncPostRenderCleanup&&Ea();w&&r>c&&zb();g=aa;Z=Math.max(f.rowHeight*d,E-a.height);if(Z<b){aa=za=Z;ya=1;Sa=0}else{aa=b;za=aa/100;ya=Math.floor(Z/za);Sa=(Z-aa)/(ya-1)}if(aa!==g){H.css("height",aa);B=D[0].scrollTop}d=B+C<=Z-E;Z==0||B==0?xa=C=0:d?ha(B+C):ha(Z-E);aa!=g&&f.autoHeight&&ca();f.forceFitColumns&&e!=ua&&jb();n(false)}}function Ta(b,a){b==null&&(b=B);a==null&&(a=L);return{top:Ra(b),bottom:Ra(b+E)+1,leftPx:a,rightPx:a+M}}function dc(b,
a){var c=Ta(b,a),d=Math.round(E/f.rowHeight);if(na==-1){c.top=c.top-d;c.bottom=c.bottom+3}else if(na==1){c.top=c.top-3;c.bottom=c.bottom+d}else{c.top=c.top-3;c.bottom=c.bottom+3}c.top=Math.max(0,c.top);c.bottom=Math.min(da()-1,c.bottom);c.leftPx=c.leftPx-M;c.rightPx=c.rightPx+M;c.leftPx=Math.max(0,c.leftPx);c.rightPx=Math.min(X,c.rightPx);return c}function $a(b){if((b=x[b])&&b.cellRenderQueue.length)for(var a=b.rowNode.lastChild;b.cellRenderQueue.length;){var c=b.cellRenderQueue.pop();b.cellNodesByColumnIdx[c]=
a;a=a.previousSibling}}function ec(){if(f.enableAsyncPostRender){clearTimeout(Ab);Ab=setTimeout(fc,f.asyncPostRenderDelay)}}function Ea(){if(f.enableAsyncPostRenderCleanup){clearTimeout(Bb);Bb=setTimeout(gc,f.asyncPostRenderCleanupDelay)}}function yb(b){for(var a in G[b])G[b].hasOwnProperty(a)&&(G[b][a]="C");Ia=Math.min(Ia,b);Ja=Math.max(Ja,b);ec()}function J(){if(U){var b=Ta(),a=dc();Xb(a);if(Ha!=L){for(var c,h=[],j=[],i,l,k=a.top,q=a.bottom;k<=q;k++)if(c=x[k]){$a(k);var t=a;i=k;var n=0,o=x[i],m=
[];l=void 0;for(l in o.cellNodesByColumnIdx)if(o.cellNodesByColumnIdx.hasOwnProperty(l)){l=l|0;var p=o.cellColSpans[l];if(va[l]>t.rightPx||wa[Math.min(g.length-1,l+p-1)]<t.leftPx)i==r&&l==y||m.push(l)}l=t=void 0;for(Fa++;(t=m.pop())!=null;){l=o.cellNodesByColumnIdx[t];if(f.enableAsyncPostRenderCleanup&&G[i]&&G[i][t]){ia.push({actionType:"C",groupId:Fa,node:l,columnIdx:t,rowIdx:i});d(l).detach()}else o.rowNode.removeChild(l);delete o.cellColSpans[t];delete o.cellNodesByColumnIdx[t];G[i]&&delete G[i][t];
n++}i=0;n=(n=e.getItemMetadata&&e.getItemMetadata(k))&&n.columns;o=Y(k);m=0;for(t=g.length;m<t;m++){if(va[m]>a.rightPx)break;if((l=c.cellColSpans[m])==null){l=1;if(n){l=(l=n[g[m].id]||n[m])&&l.colspan||1;l==="*"&&(l=t-m)}if(wa[Math.min(t-1,m+l-1)]>a.leftPx){Zb(h,k,m,l,o);i++}}m=m+(l>1?l-1:0)}i&&j.push(k)}if(h.length){k=document.createElement("div");for(k.innerHTML=h.join("");(c=j.pop())!=null;)for(c=x[c];(q=c.cellRenderQueue.pop())!=null;){h=k.lastChild;c.rowNode.appendChild(h);c.cellNodesByColumnIdx[q]=
h}}}j=H[0];c=[];h=[];k=false;n=K();q=a.top;for(i=a.bottom;q<=i;q++)if(!x[q]){wb++;h.push(q);x[q]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};o=c;m=q;t=a;p=n;l=Y(m);var s="slick-row"+(m<p&&!l?" loading":"")+(m===r?" active":"")+(m%2==1?" odd":" even");l||(s=s+(" "+f.addNewRowCssClass));(p=e.getItemMetadata&&e.getItemMetadata(m))&&p.cssClasses&&(s=s+(" "+p.cssClasses));o.push("<div class='ui-widget-content "+s+"' style='top:"+(f.rowHeight*m-C)+"px'>");for(var u=void 0,
z=void 0,s=0,A=g.length;s<A;s++){z=g[s];u=1;if(p&&p.columns){u=(u=p.columns[z.id]||p.columns[s])&&u.colspan||1;u==="*"&&(u=A-s)}if(wa[Math.min(A-1,s+u-1)]>t.leftPx){if(va[s]>t.rightPx)break;Zb(o,m,s,u,l)}u>1&&(s=s+(u-1))}o.push("</div>");w&&r===q&&(k=true);hc++}if(h.length){a=document.createElement("div");a.innerHTML=c.join("");q=0;for(i=h.length;q<i;q++)x[h[q]].rowNode=j.appendChild(a.firstChild);k&&(w=Q(r,y))}Ia=b.top;Ja=Math.min(da()-1,b.bottom);ec();Ua=B;Ha=L;cb=null}}function Ic(){var b=W[0].scrollLeft;
if(b!=D[0].scrollLeft)D[0].scrollLeft=b}function Da(){B=D[0].scrollTop;L=D[0].scrollLeft;var b=Math.abs(B-Aa),a=Math.abs(L-ic);if(a){ic=L;ta[0].scrollLeft=L;oa[0].scrollLeft=L;W[0].scrollLeft=L}if(b){na=Aa<B?1:-1;Aa=B;if(b<E)ha(B+C);else{var c=C;xa=aa==E?0:Math.min(ya-1,Math.floor(B*((Z-E)/(aa-E))*(1/za)));C=Math.round(xa*Sa);c!=C&&ka()}}if(a||b){cb&&clearTimeout(cb);if(Math.abs(Ua-B)>20||Math.abs(Ha-L)>20){f.forceSyncScrolling||Math.abs(Ua-B)<E&&Math.abs(Ha-L)<M?J():cb=setTimeout(J,50);h(i.onViewportChanged,
{grid:i})}}h(i.onScroll,{scrollLeft:L,scrollTop:B,grid:i})}function fc(){for(var b=K();Ia<=Ja;){var a=na>=0?Ia++:Ja--,c=x[a];if(c&&!(a>=b)){G[a]||(G[a]={});$a(a);for(var d in c.cellNodesByColumnIdx)if(c.cellNodesByColumnIdx.hasOwnProperty(d)){d=d|0;var b=g[d],e=G[a][d];if(b.asyncPostRender&&e!=="R"){var h=c.cellNodesByColumnIdx[d];h&&b.asyncPostRender(h,a,Y(a),b,e==="C");G[a][d]="R"}}Ab=setTimeout(fc,f.asyncPostRenderDelay);break}}}function gc(){if(ia.length>0){for(var b=ia[0].groupId;ia.length>0&&
ia[0].groupId==b;){var a=ia.shift();a.actionType=="R"&&d(a.node).remove();if(a.actionType=="C"){var c=g[a.columnIdx];c.asyncPostRenderCleanup&&a.node&&c.asyncPostRenderCleanup(a.node,a.rowIdx,c)}}Bb=setTimeout(gc,f.asyncPostRenderCleanupDelay)}}function Cb(b,a){var c,e,f,g,h;for(h in x){g=a&&a[h];f=b&&b[h];if(g)for(e in g)if(!f||g[e]!=f[e])(c=Q(h,O[e]))&&d(c).removeClass(g[e]);if(f)for(e in f)if(!g||g[e]!=f[e])(c=Q(h,O[e]))&&d(c).addClass(f[e])}}function Vb(b,a){var c=P[b];P[b]=a;Cb(a,c);h(i.onCellCssStylesChanged,
{key:b,hash:a,grid:i})}function Sc(b){b=d(b.target).closest(".slick-row")[0];if(b!=Ya){if(Ga&&Ga!=b){f.enableAsyncPostRenderCleanup&&Za?$b(vb,Za):H[0].removeChild(Ga);Za=vb=Ga=null;f.enableAsyncPostRenderCleanup&&Ea()}Ya=b}}function Mc(b,a){var c=Ka(b);if(!c||!Db(c.row,c.cell))return false;c=h(i.onDragInit,a,b);return b.isImmediatePropagationStopped()?c:false}function Nc(b,a){var c=Ka(b);if(!c||!Db(c.row,c.cell))return false;c=h(i.onDragStart,a,b);return b.isImmediatePropagationStopped()?c:false}
function Oc(b,a){return h(i.onDrag,a,b)}function Pc(b,a){h(i.onDragEnd,a,b)}function Qb(b){h(i.onKeyDown,{row:r,cell:y,grid:i},b);var a=b.isImmediatePropagationStopped(),c=Slick.keyCode;if(!a)if(!b.shiftKey&&!b.altKey&&!b.ctrlKey)if(b.which==c.ESCAPE){if(!q().isActive())return;jc()}else if(b.which==c.PAGEDOWN){kc();a=true}else if(b.which==c.PAGEUP){lc();a=true}else if(b.which==c.LEFT)a=mc();else if(b.which==c.RIGHT)a=nc();else if(b.which==c.UP)a=oc();else if(b.which==c.DOWN)a=db();else if(b.which==
c.TAB)a=pc();else{if(b.which==c.ENTER){f.editable&&(p?r===K()?db():qc():q().commitCurrentEdit()&&eb());a=true}}else b.which==c.TAB&&(b.shiftKey&&!b.ctrlKey&&!b.altKey)&&(a=rc());if(a){b.stopPropagation();b.preventDefault();try{b.originalEvent.keyCode=0}catch(d){}}}function Jc(b){p||(b.target!=document.activeElement||d(b.target).hasClass("slick-cell"))&&pa();var a=Ka(b);if(a&&!(p!==null&&r==a.row&&y==a.cell)){h(i.onClick,{row:a.row,cell:a.cell,grid:i},b);if(!b.isImmediatePropagationStopped()&&(y!=
a.cell||r!=a.row)&&R(a.row,a.cell))if(!q().isActive()||q().commitCurrentEdit()){Eb(a.row,false);qa(Q(a.row,a.cell))}}}function Lc(b){var a=d(b.target).closest(".slick-cell",H);a.length!==0&&!(w===a[0]&&p!==null)&&h(i.onContextMenu,{grid:i},b)}function Kc(b){var a=Ka(b);if(a&&!(p!==null&&r==a.row&&y==a.cell)){h(i.onDblClick,{row:a.row,cell:a.cell,grid:i},b);b.isImmediatePropagationStopped()||f.editable&&sc(a.row,a.cell,true)}}function Gc(b){h(i.onHeaderMouseEnter,{column:d(this).data("column"),grid:i},
b)}function Hc(b){h(i.onHeaderMouseLeave,{column:d(this).data("column"),grid:i},b)}function Ec(b){var a=d(b.target).closest(".slick-header-column",".slick-header-columns"),a=a&&a.data("column");h(i.onHeaderContextMenu,{column:a,grid:i},b)}function Fc(b){var a=d(b.target).closest(".slick-header-column",".slick-header-columns");(a=a&&a.data("column"))&&h(i.onHeaderClick,{column:a,grid:i},b)}function Qc(b){h(i.onMouseEnter,{grid:i},b)}function Rc(b){h(i.onMouseLeave,{grid:i},b)}function Db(b,a){return!(b<
0||b>=K()||a<0||a>=g.length)}function tc(b){var a=/l\d+/.exec(b.className);if(!a)throw"getCellFromNode: cannot get cell - "+b.className;return parseInt(a[0].substr(1,a[0].length-1),10)}function uc(b){for(var a in x)if(x[a].rowNode===b)return a|0;return null}function Ka(b){var a=d(b.target).closest(".slick-cell",H);if(!a.length)return null;b=uc(a[0].parentNode);a=tc(a[0]);return b==null||a==null?null:{row:b,cell:a}}function zb(){qa(null,false)}function pa(){vc==-1?Qa[0].focus():nb[0].focus()}function fb(b,
a,c){Eb(b,c);c=ra(b,a);b=va[a];a=wa[a+(c>1?c-1:0)];c=L+M;if(b<L){D.scrollLeft(b);Da();J()}else if(a>c){D.scrollLeft(Math.min(b,a-D[0].clientWidth));Da();J()}}function qa(b,a){if(w!==null){$();d(w).removeClass("active");x[r]&&d(x[r].rowNode).removeClass("active")}var c=w!==b;w=b;if(w!=null){r=uc(w.parentNode);y=Ba=tc(w);a==null&&(a=r==K()||f.autoEdit);d(w).addClass("active");d(x[r].rowNode).addClass("active");if(f.editable&&a&&wc(r,y)){clearTimeout(Fb);f.asyncEditorLoading?Fb=setTimeout(function(){eb()},
f.asyncEditorLoadDelay):eb()}}else r=y=null;c&&h(i.onActiveCellChanged,xc())}function wc(b,a){var c=K();return b<c&&!Y(b)||g[a].cannotTriggerInsert&&b>=c||!Yb(b,a)?false:true}function $(){if(p){h(i.onBeforeCellEditorDestroy,{editor:p,grid:i});p.destroy();p=null;if(w){var b=Y(r);d(w).removeClass("editable invalid");if(b){var a=g[y],c=Va(r,a);w.innerHTML=c(r,y,Wa(b,a),a,b,i);yb(r)}}if(navigator.userAgent.toLowerCase().match(/msie/))if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection)(b=
window.getSelection())&&b.removeAllRanges&&b.removeAllRanges();q().deactivate(gb)}}function eb(b){if(w){if(!f.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";clearTimeout(Fb);if(wc(r,y)){var a=g[y],c=Y(r);if(h(i.onBeforeEditCell,{row:r,cell:y,item:c,column:a,grid:i})===false)pa();else{q().activate(gb);d(w).addClass("editable");var e=b||Yb(r,y);if(!b&&!e.suppressClearOnEdit)w.innerHTML="";p=new e({grid:i,gridPosition:hb(u[0]),position:hb(w),container:w,
column:a,item:c||{},commitChanges:qc,cancelChanges:jc});c&&p.loadValue(c);yc=p.serializeValue();p.position&&Pb()}}}}function qc(){if(q().commitCurrentEdit()){pa();f.autoEdit&&db()}}function jc(){q().cancelCurrentEdit()&&pa()}function hb(b){var a={top:b.offsetTop,left:b.offsetLeft,bottom:0,right:0,width:d(b).outerWidth(),height:d(b).outerHeight(),visible:true};a.bottom=a.top+a.height;a.right=a.left+a.width;for(var c=b.offsetParent;(b=b.parentNode)!=document.body;){if(b==null)break;if(a.visible&&b.scrollHeight!=
b.offsetHeight&&d(b).css("overflowY")!="visible")a.visible=a.bottom>b.scrollTop&&a.top<b.scrollTop+b.clientHeight;if(a.visible&&b.scrollWidth!=b.offsetWidth&&d(b).css("overflowX")!="visible")a.visible=a.right>b.scrollLeft&&a.left<b.scrollLeft+b.clientWidth;a.left=a.left-b.scrollLeft;a.top=a.top-b.scrollTop;if(b===c){a.left=a.left+b.offsetLeft;a.top=a.top+b.offsetTop;c=b.offsetParent}a.bottom=a.top+a.height;a.right=a.left+a.width}return a}function zc(){return hb(w)}function Pb(){if(w){h(i.onActiveCellPositionChanged,
{grid:i});if(p){var b=zc();p.show&&p.hide&&(b.visible?p.show():p.hide());p.position&&p.position(b)}}}function xc(){return w?{row:r,cell:y,grid:i}:null}function Eb(b,c){var d=b*f.rowHeight,e=(b+1)*f.rowHeight-E+(qb?a.height:0);if((b+1)*f.rowHeight>B+E+C){ha(c?d:e);J()}else if(b*f.rowHeight<B+C){ha(c?e:d);J()}}function Ac(b){b=b*ab;ha((Ra(B)+b)*f.rowHeight);J();if(f.enableCellNavigation&&r!=null){var b=r+b,a=da();b>=a&&(b=a-1);b<0&&(b=0);for(var a=0,c=null,d=Ba;a<=Ba;){R(b,a)&&(c=a);a=a+ra(b,a)}if(c!==
null){qa(Q(b,c));Ba=d}else zb()}}function kc(){Ac(1)}function lc(){Ac(-1)}function ra(b,a){var c=e.getItemMetadata&&e.getItemMetadata(b);if(!c||!c.columns)return 1;c=(c=c.columns[g[a].id]||c.columns[a])&&c.colspan;return c=c==="*"?g.length-a:c||1}function Bc(b){for(var a=0;a<g.length;){if(R(b,a))return a;a=a+ra(b,a)}return null}function Gb(b,a){if(a>=g.length)return null;do a=a+ra(b,a);while(a<g.length&&!R(b,a));return a<g.length?{row:b,cell:a,posX:a}:null}function Cc(b,a){if(a<=0)return null;var c=
Bc(b);if(c===null||c>=a)return null;for(var c={row:b,cell:c,posX:c},d;;){d=Gb(c.row,c.cell,c.posX);if(!d)return null;if(d.cell>=a)return c;c=d}}function Tc(b,a,c){for(var d,e=da();;){if(++b>=e)return null;for(d=a=0;a<=c;){d=a;a=a+ra(b,a)}if(R(b,d))return{row:b,cell:d,posX:c}}}function Uc(b,a,c){for(var d;;){if(--b<0)return null;for(d=a=0;a<=c;){d=a;a=a+ra(b,a)}if(R(b,d))return{row:b,cell:d,posX:c}}}function Vc(b,a,c){if(b==null&&a==null){b=a=c=0;if(R(b,a))return{row:b,cell:a,posX:a}}if(a=Gb(b,a,c))return a;
a=null;for(c=da();++b<c;){a=Bc(b);if(a!==null)return{row:b,cell:a,posX:a}}return null}function Wc(b,a,c){if(b==null&&a==null){b=da()-1;a=c=g.length-1;if(R(b,a))return{row:b,cell:a,posX:a}}for(var d,e;!d;){if(d=Cc(b,a,c))break;if(--b<0)return null;a=0;e=b;for(var f=0,h=null;f<g.length;){R(e,f)&&(h=f);f=f+ra(e,f)}e=h;e!==null&&(d={row:b,cell:e,posX:e})}return d}function nc(){return Ca("right")}function mc(){return Ca("left")}function db(){return Ca("down")}function oc(){return Ca("up")}function pc(){return Ca("next")}
function rc(){return Ca("prev")}function Ca(b){if(!f.enableCellNavigation||!w&&b!="prev"&&b!="next")return false;if(!q().commitCurrentEdit())return true;pa();vc={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[b];if(b=(0,{up:Uc,down:Tc,left:Cc,right:Gb,prev:Wc,next:Vc}[b])(r,y,Ba)){var a=b.row==K();fb(b.row,b.cell,!a);qa(Q(b.row,b.cell));Ba=b.posX;return true}qa(Q(r,y));return false}function Q(b,a){if(x[b]){$a(b);return x[b].cellNodesByColumnIdx[a]}return null}function R(b,a){if(!f.enableCellNavigation||
b>=da()||b<0||a>=g.length||a<0)return false;var c=e.getItemMetadata&&e.getItemMetadata(b);if(c&&typeof c.focusable==="boolean")return c.focusable;return(c=c&&c.columns)&&c[g[a].id]&&typeof c[g[a].id].focusable==="boolean"?c[g[a].id].focusable:c&&c[a]&&typeof c[a].focusable==="boolean"?c[a].focusable:g[a].focusable}function Ub(b,a){if(b>=K()||b<0||a>=g.length||a<0)return false;var c=e.getItemMetadata&&e.getItemMetadata(b);if(c&&typeof c.selectable==="boolean")return c.selectable;return(c=c&&c.columns&&
(c.columns[g[a].id]||c.columns[a]))&&typeof c.selectable==="boolean"?c.selectable:g[a].selectable}function sc(b,a,c){if(U&&R(b,a)&&q().commitCurrentEdit()){fb(b,a,false);a=Q(b,a);qa(a,c||b===K()||f.autoEdit);p||pa()}}function Xc(b){for(var a=[],c=g.length-1,d=0;d<b.length;d++)a.push(new Slick.Range(b[d],0,b[d],c));return a}function Wb(){if(!S)throw"Selection model is not set";return tb}var Yc={explicitInitialization:false,rowHeight:25,defaultColumnWidth:80,enableAddRow:false,leaveSpaceForNewRows:false,
editable:false,autoEdit:true,enableCellNavigation:true,enableColumnReorder:true,asyncEditorLoading:false,asyncEditorLoadDelay:100,forceFitColumns:false,enableAsyncPostRender:false,asyncPostRenderDelay:50,enableAsyncPostRenderCleanup:false,asyncPostRenderCleanupDelay:40,autoHeight:false,editorLock:Slick.GlobalEditorLock,showHeaderRow:false,headerRowHeight:25,showTopPanel:false,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",
multiSelect:true,enableTextSelectionOnCells:false,dataItemColumnValueExtractor:null,fullWidthRows:false,multiColumnSort:false,defaultFormatter:function(b,a,c){return c==null?"":(c+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},forceSyncScrolling:false,addNewRowCssClass:"new-row"},ub={name:"",resizable:true,sortable:false,minWidth:30,rerenderOnResize:false,headerCssClass:null,defaultSortAsc:true,focusable:true,selectable:true},Z,aa,za,ya,Sa,xa=0,C=0,na=1,U=false,u,N="slickgrid_"+
Math.round(1E6*Math.random()),i=this,Qa,nb,ta,A,ja,W,Sb,oa,Dc,D,H,la,sa,ma,rb,sb,E,M,X,qb,ua,ea=0,lb=0,Oa=0,Pa=0,Ob=false,fa,vc=1,Ba,r,y,w=null,p=null,yc,gb,x={},wb=0,ab,Aa=0,B=0,Ua=0,Ha=0,ic=0,L=0,S,tb=[],ga=[],P={},O={},I=[],va=[],wa=[],Fb=null,cb=null,Ab=null,Bb=null,G={},Ja=null,Ia=null,ia=[],Fa=0,hc=0,ac=0,Ya,Ga,vb,Za,pb={position:"absolute",visibility:"hidden",display:"block"},ob,Rb=[];this.debug=function(){var a;a="\ncounter_rows_rendered:  "+hc;a=a+("\ncounter_rows_removed:  "+ac);a=a+("\nrenderedRows:  "+
wb);a=a+("\nnumVisibleRows:  "+ab);a=a+("\nmaxSupportedCssHeight:  "+b);a=a+("\nn(umber of pages):  "+ya);a=a+("\n(current) page:  "+xa);a=a+("\npage height (ph):  "+za);a=a+("\nvScrollDir:  "+na);alert(a)};this.eval=function(b){return eval(b)};d.extend(this,{slickGridVersion:"2.2.4",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,
onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,
onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:function(b){ga.unshift(b);b.init(i)},unregisterPlugin:k,getColumns:function(){return g},setColumns:Tb,getColumnIndex:Lb,updateColumnHeader:function(b,a,
c){if(U){b=O[b];if(b!=null){var d=g[b],e=A.children().eq(b);if(e){if(a!==void 0)g[b].name=a;if(c!==void 0)g[b].toolTip=c;h(i.onBeforeHeaderCellDestroy,{node:e[0],column:d,grid:i});e.attr("title",c||"").children().eq(0).html(a);h(i.onHeaderCellRendered,{node:e[0],column:d,grid:i})}}}},setSortColumn:function(b,a){Na([{columnId:b,sortAsc:a}])},setSortColumns:Na,getSortColumns:function(){return I},autosizeColumns:jb,getOptions:function(){return f},setOptions:function(b){if(q().commitCurrentEdit()){$();
f.enableAddRow!==b.enableAddRow&&cc(K());f=d.extend(f,b);if(f.autoHeight)f.leaveSpaceForNewRows=false;D.css("overflow-y",f.autoHeight?"hidden":"auto");J()}},getData:function(){return e},getDataLength:K,getDataItem:Y,setData:function(b,a){e=b;ka();bb();a&&ha(0)},getSelectionModel:function(){return S},setSelectionModel:function(b){if(S){S.onSelectedRangesChanged.unsubscribe(Nb);S.destroy&&S.destroy()}if(S=b){S.init(i);S.onSelectedRangesChanged.subscribe(Nb)}},getSelectedRows:Wb,setSelectedRows:function(b){if(!S)throw"Selection model is not set";
S.setSelectedRanges(Xc(b))},getContainerNode:function(){return u.get(0)},render:J,invalidate:function(){bb();ka();J()},invalidateRow:cc,invalidateRows:bc,invalidateAllRows:ka,updateCell:function(b,a){var c=Q(b,a);if(c){var d=g[a],e=Y(b);if(p&&r===b&&y===a)p.loadValue(e);else{c.innerHTML=e?Va(b,d)(b,a,Wa(e,d),d,e):"";yb(b)}}},updateRow:xb,getViewport:Ta,getRenderedRange:dc,resizeCanvas:ca,updateRowCount:bb,scrollRowIntoView:Eb,scrollRowToTop:function(b){ha(b*f.rowHeight);J()},scrollCellIntoView:fb,
getCanvasNode:function(){return H[0]},focus:pa,getCellFromPoint:function(b,a){for(var c=Ra(a),d=0,e=0,f=0;f<g.length&&e<b;f++){e=e+g[f].width;d++}d<0&&(d=0);return{row:c,cell:d-1}},getCellFromEvent:Ka,getActiveCell:xc,setActiveCell:function(b,a){if(U&&!(b>K()||b<0||a>=g.length||a<0)&&f.enableCellNavigation){fb(b,a,false);qa(Q(b,a),false)}},getActiveCellNode:function(){return w},getActiveCellPosition:zc,resetActiveCell:zb,editActiveCell:eb,getCellEditor:function(){return p},getCellNode:Q,getCellNodeBox:function(b,
a){if(!Db(b,a))return null;for(var c=f.rowHeight*b-C,d=c+f.rowHeight-1,e=0,h=0;h<a;h++)e=e+g[h].width;return{top:c,left:e,bottom:d,right:e+g[a].width}},canCellBeSelected:Ub,canCellBeActive:R,navigatePrev:rc,navigateNext:pc,navigateUp:oc,navigateDown:db,navigateLeft:mc,navigateRight:nc,navigatePageUp:lc,navigatePageDown:kc,gotoCell:sc,getTopPanel:function(){return Dc[0]},setTopPanelVisibility:function(b){if(f.showTopPanel!=b)(f.showTopPanel=b)?oa.slideDown("fast",ca):oa.slideUp("fast",ca)},setHeaderRowVisibility:function(b){if(f.showHeaderRow!=
b)(f.showHeaderRow=b)?W.slideDown("fast",ca):W.slideUp("fast",ca)},getHeaderRow:function(){return ja[0]},getHeaderRowColumn:function(b){b=O[b];return(b=ja.children().eq(b))&&b[0]},getGridPosition:function(){return hb(u[0])},flashCell:function(b,a,c){c=c||100;if(x[b]){var e=d(Q(b,a)),g=function(b){b&&setTimeout(function(){e.queue(function(){e.toggleClass(f.cellFlashingCssClass).dequeue();g(b-1)})},c)};g(4)}},addCellCssStyles:function(b,a){if(P[b])throw"addCellCssStyles: cell CSS hash with key '"+b+
"' already exists.";P[b]=a;Cb(a,null);h(i.onCellCssStylesChanged,{key:b,hash:a,grid:i})},setCellCssStyles:Vb,removeCellCssStyles:function(b){if(P[b]){Cb(null,P[b]);delete P[b];h(i.onCellCssStylesChanged,{key:b,hash:null,grid:i})}},getCellCssStyles:function(b){return P[b]},init:j,destroy:function(){q().cancelCurrentEdit();h(i.onBeforeDestroy,{grid:i});for(var b=ga.length;b--;)k(ga[b]);f.enableColumnReorder&&A.filter(":ui-sortable").sortable("destroy");if(sa){sa.unbind("scroll."+N);sa=null}u.unbind(".slickgrid");
la.remove();ma=null;H.unbind("draginit dragstart dragend drag");u.empty().removeClass(N)},getEditorLock:q,getEditController:function(){return gb}});u=d(c);if(u.length<1)throw Error("SlickGrid requires a valid container, "+c+" does not exist in the DOM.");ob=u.parents().andSelf().not(":visible");ob.each(function(){var b={},a;for(a in pb){b[a]=this.style[a];this.style[a]=pb[a]}Rb.push(b)});var Hb;if(!(Hb=b)){for(var Ib=1E6,Zc=navigator.userAgent.toLowerCase().match(/firefox/)?6E6:1E9,Jb=d("<div style='display:none' />").appendTo(document.body);;){var ib=
Ib*2;Jb.css("height",ib);if(ib>Zc||Jb.height()!==ib)break;else Ib=ib}Jb.remove();Hb=Ib}b=Hb;var Kb;if(!(Kb=a)){var La=d("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),$c={width:La.width()-La[0].clientWidth,height:La.height()-La[0].clientHeight};La.remove();Kb=$c}a=Kb;f=d.extend({},Yc,f);if(f.autoHeight)f.leaveSpaceForNewRows=false;ub.width=f.defaultColumnWidth;for(var O={},Ma=0;Ma<g.length;Ma++){var T=g[Ma]=d.extend({},
ub,g[Ma]);O[T.id]=Ma;if(T.minWidth&&T.width<T.minWidth)T.width=T.minWidth;if(T.maxWidth&&T.width>T.maxWidth)T.width=T.maxWidth}if(f.enableColumnReorder&&!d.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");gb={commitCurrentEdit:function(){var b=Y(r),a=g[y];if(p){if(p.isValueChanged()){var c=p.validate();if(c.valid){if(r<K()){c={row:r,cell:y,editor:p,serializedValue:p.serializeValue(),prevSerializedValue:yc,execute:function(){this.editor.applyValue(b,
this.serializedValue);xb(this.row);h(i.onCellChange,{row:r,cell:y,item:b,grid:i})},undo:function(){this.editor.applyValue(b,this.prevSerializedValue);xb(this.row);h(i.onCellChange,{row:r,cell:y,item:b,grid:i})}};if(f.editCommandHandler){$();f.editCommandHandler(b,a,c)}else{c.execute();$()}}else{c={};p.applyValue(c,p.serializeValue());$();h(i.onAddNewRow,{item:c,column:a,grid:i})}return!q().isActive()}d(w).removeClass("invalid");d(w).width();d(w).addClass("invalid");h(i.onValidationError,{editor:p,
cellNode:w,validationResults:c,row:r,cell:y,column:a,grid:i});p.focus();return false}$()}return true},cancelCurrentEdit:function(){$();return true}};u.empty().css("overflow","hidden").css("outline",0).addClass(N).addClass("ui-widget");/relative|absolute|fixed/.test(u.css("position"))||u.css("position","relative");Qa=d("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo(u);ta=d("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(u);
A=d("<div class='slick-header-columns' style='left:-1000px' />").appendTo(ta);A.width(o());W=d("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(u);ja=d("<div class='slick-headerrow-columns' />").appendTo(W);Sb=d("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",m()+a.width+"px").appendTo(W);oa=d("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(u);
Dc=d("<div class='slick-top-panel' style='width:10000px' />").appendTo(oa);f.showTopPanel||oa.hide();f.showHeaderRow||W.hide();D=d("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo(u);D.css("overflow-y",f.autoHeight?"hidden":"auto");H=d("<div class='grid-canvas' />").appendTo(D);nb=Qa.clone().appendTo(u);f.explicitInitialization||j()}}});var a,b})(jQuery);(function(d){function a(b){function c(){var c=b.column.editorFixedDecimalPlaces;"undefined"==typeof c&&(c=a.DefaultDecimalPlaces);return!c&&0!==c?null:c}var e,g;this.init=function(){e=d("<INPUT type=text class='editor-text' />");e.bind("keydown.nav",function(b){(b.keyCode===d.ui.keyCode.LEFT||b.keyCode===d.ui.keyCode.RIGHT)&&b.stopImmediatePropagation()});e.appendTo(b.container);e.focus().select()};this.destroy=function(){e.remove()};this.focus=function(){e.focus()};this.loadValue=function(a){g=a[b.column.field];
a=c();if(null!==a&&(g||0===g)&&g.toFixed)g=g.toFixed(a);e.val(g);e[0].defaultValue=g;e.select()};this.serializeValue=function(){var b=parseFloat(e.val())||0,a=c();if(null!==a&&(b||0===b)&&b.toFixed)b=parseFloat(b.toFixed(a));return b};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(""==e.val()&&null==g)&&e.val()!=g};this.validate=function(){return isNaN(e.val())?{valid:!1,msg:"Please enter a valid number"}:{valid:!0,msg:null}};this.init()}d.extend(!0,window,
{Slick:{Editors:{Text:function(b){var a,e;this.init=function(){a=d("<INPUT type=text class='editor-text' />").appendTo(b.container).bind("keydown.nav",function(b){(b.keyCode===d.ui.keyCode.LEFT||b.keyCode===d.ui.keyCode.RIGHT)&&b.stopImmediatePropagation()}).focus().select()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.getValue=function(){return a.val()};this.setValue=function(b){a.val(b)};this.loadValue=function(d){e=d[b.column.field]||"";a.val(e);a[0].defaultValue=
e;a.select()};this.serializeValue=function(){return a.val()};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(a.val()==""&&e==null)&&a.val()!=e};this.validate=function(){if(b.column.validator){var d=b.column.validator(a.val());if(!d.valid)return d}return{valid:true,msg:null}};this.init()},Integer:function(b){var a,e;this.init=function(){a=d("<INPUT type=text class='editor-text' />");a.bind("keydown.nav",function(b){(b.keyCode===d.ui.keyCode.LEFT||b.keyCode===
d.ui.keyCode.RIGHT)&&b.stopImmediatePropagation()});a.appendTo(b.container);a.focus().select()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.loadValue=function(d){e=d[b.column.field];a.val(e);a[0].defaultValue=e;a.select()};this.serializeValue=function(){return parseInt(a.val(),10)||0};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(a.val()==""&&e==null)&&a.val()!=e};this.validate=function(){return isNaN(a.val())?{valid:false,
msg:"Please enter a valid integer"}:{valid:true,msg:null}};this.init()},Float:a,Date:function(b){var a,e,g=false;this.init=function(){a=d("<INPUT type=text class='editor-text' />");a.appendTo(b.container);a.focus().select();a.datepicker({showOn:"button",buttonImageOnly:true,buttonImage:"../images/calendar.gif",beforeShow:function(){g=true},onClose:function(){g=false}});a.width(a.width()-18)};this.destroy=function(){d.datepicker.dpDiv.stop(true,true);a.datepicker("hide");a.datepicker("destroy");a.remove()};
this.show=function(){g&&d.datepicker.dpDiv.stop(true,true).show()};this.hide=function(){g&&d.datepicker.dpDiv.stop(true,true).hide()};this.position=function(b){g&&d.datepicker.dpDiv.css("top",b.top+30).css("left",b.left)};this.focus=function(){a.focus()};this.loadValue=function(d){e=d[b.column.field];a.val(e);a[0].defaultValue=e;a.select()};this.serializeValue=function(){return a.val()};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(a.val()==""&&e==null)&&
a.val()!=e};this.validate=function(){return{valid:true,msg:null}};this.init()},YesNoSelect:function(b){var a,e;this.init=function(){a=d("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>");a.appendTo(b.container);a.focus()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.loadValue=function(d){a.val((e=d[b.column.field])?"yes":"no");a.select()};this.serializeValue=function(){return a.val()=="yes"};this.applyValue=
function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return a.val()!=e};this.validate=function(){return{valid:true,msg:null}};this.init()},Checkbox:function(b){var a,e;this.init=function(){a=d("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>");a.appendTo(b.container);a.focus()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.loadValue=function(d){(e=!!d[b.column.field])?a.prop("checked",true):a.prop("checked",false)};this.serializeValue=
function(){return a.prop("checked")};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return this.serializeValue()!==e};this.validate=function(){return{valid:true,msg:null}};this.init()},PercentComplete:function(b){var a,e,g;this.init=function(){a=d("<INPUT type=text class='editor-percentcomplete' />");a.width(d(b.container).innerWidth()-25);a.appendTo(b.container);e=d("<div class='editor-percentcomplete-picker' />").appendTo(b.container);e.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>");
e.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>");a.focus().select();e.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:g,slide:function(b,d){a.val(d.value)}});e.find(".editor-percentcomplete-buttons button").bind("click",function(){a.val(d(this).attr("val"));e.find(".editor-percentcomplete-slider").slider("value",d(this).attr("val"))})};this.destroy=
function(){a.remove();e.remove()};this.focus=function(){a.focus()};this.loadValue=function(d){a.val(g=d[b.column.field]);a.select()};this.serializeValue=function(){return parseInt(a.val(),10)||0};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(a.val()==""&&g==null)&&(parseInt(a.val(),10)||0)!=g};this.validate=function(){return isNaN(parseInt(a.val(),10))?{valid:false,msg:"Please enter a valid positive number"}:{valid:true,msg:null}};this.init()},LongText:function(b){var a,
e,g,f=this;this.init=function(){var g=d("body");e=d("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(g);a=d("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(e);d("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(e);e.find("button:first").bind("click",this.save);e.find("button:last").bind("click",
this.cancel);a.bind("keydown",this.handleKeyDown);f.position(b.position);a.focus().select()};this.handleKeyDown=function(a){if(a.which==d.ui.keyCode.ENTER&&a.ctrlKey)f.save();else if(a.which==d.ui.keyCode.ESCAPE){a.preventDefault();f.cancel()}else if(a.which==d.ui.keyCode.TAB&&a.shiftKey){a.preventDefault();b.grid.navigatePrev()}else if(a.which==d.ui.keyCode.TAB){a.preventDefault();b.grid.navigateNext()}};this.save=function(){b.commitChanges()};this.cancel=function(){a.val(g);b.cancelChanges()};this.hide=
function(){e.hide()};this.show=function(){e.show()};this.position=function(a){e.css("top",a.top-5).css("left",a.left-5)};this.destroy=function(){e.remove()};this.focus=function(){a.focus()};this.loadValue=function(d){a.val(g=d[b.column.field]);a.select()};this.serializeValue=function(){return a.val()};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(a.val()==""&&g==null)&&a.val()!=g};this.validate=function(){return{valid:true,msg:null}};this.init()}}}});a.DefaultDecimalPlaces=
null})(jQuery);(function(d){d.extend(!0,window,{Slick:{Formatters:{PercentComplete:function(a,b,c){return c==null||c===""?"-":c<50?"<span style='color:red;font-weight:bold;'>"+c+"%</span>":"<span style='color:green'>"+c+"%</span>"},PercentCompleteBar:function(a,b,c){return c==null||c===""?"":"<span class='percent-complete-bar' style='background:"+(c<30?"red":c<70?"silver":"green")+";width:"+c+"%'></span>"},YesNo:function(a,b,c){return c?"Yes":"No"},Checkmark:function(a,b,c){return c?"<img src='../images/tick.png'>":
""}}}})})(jQuery);(function(d){d.extend(!0,window,{Slick:{CellSelectionModel:function(a){function b(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];k.canCellBeSelected(d.fromRow,d.fromCell)&&k.canCellBeSelected(d.toRow,d.toCell)&&b.push(d)}return b}function c(a){if(o&&o.length!==0||a&&a.length!==0){o=b(a);m.onSelectedRangesChanged.notify(o)}}function e(a){if(k.getEditorLock().isActive()){a.stopPropagation();return false}}function g(a,b){c([b.range])}function f(a,b){z.selectActiveCell&&(b.row!=null&&b.cell!=null)&&c([new Slick.Range(b.row,
b.cell)])}function j(a){var d,e,f=k.getActiveCell();if(f&&a.shiftKey&&!a.ctrlKey&&!a.altKey&&(a.which==37||a.which==39||a.which==38||a.which==40)){d=o;d.length||d.push(new Slick.Range(f.row,f.cell));e=d.pop();e.contains(f.row,f.cell)||(e=new Slick.Range(f.row,f.cell));var g=e.toRow-e.fromRow,j=e.toCell-e.fromCell,m=f.row==e.fromRow?1:-1,n=f.cell==e.fromCell?1:-1;a.which==37?j=j-n:a.which==39?j=j+n:a.which==38?g=g-m:a.which==40&&(g=g+m);f=new Slick.Range(f.row,f.cell,f.row+m*g,f.cell+n*j);if(b([f]).length){d.push(f);
e=m>0?f.toRow:f.fromRow;n=n>0?f.toCell:f.fromCell;k.scrollRowIntoView(e);k.scrollCellIntoView(e,n)}else d.push(e);c(d);a.preventDefault();a.stopPropagation()}}var k,o=[],m=this,n=new Slick.CellRangeSelector({selectionCss:{border:"2px solid black"}}),z,s={selectActiveCell:true};d.extend(this,{getSelectedRanges:function(){return o},setSelectedRanges:c,init:function(b){z=d.extend(true,{},s,a);k=b;k.getCanvasNode();k.onActiveCellChanged.subscribe(f);k.onKeyDown.subscribe(j);b.registerPlugin(n);n.onCellRangeSelected.subscribe(g);
n.onBeforeCellRangeSelected.subscribe(e)},destroy:function(){k.onActiveCellChanged.unsubscribe(f);k.onKeyDown.unsubscribe(j);n.onCellRangeSelected.unsubscribe(g);n.onBeforeCellRangeSelected.unsubscribe(e);k.unregisterPlugin(n)},onSelectedRangesChanged:new Slick.Event})}}})})(jQuery);(function(d){d.extend(!0,window,{Slick:{CellRangeSelector:function(a){function b(a){a.stopImmediatePropagation()}function c(a,b){var c=f.getCellFromEvent(a);if(m.onBeforeCellRangeSelected.notify(c)!==false&&f.canCellBeSelected(c.row,c.cell)){k=true;a.stopImmediatePropagation()}if(k){f.focus();c=f.getCellFromPoint(b.startX-d(j).offset().left,b.startY-d(j).offset().top);b.range={start:c,end:{}};return o.show(new Slick.Range(c.row,c.cell))}}function e(a,b){if(k){a.stopImmediatePropagation();var c=f.getCellFromPoint(a.pageX-
d(j).offset().left,a.pageY-d(j).offset().top);if(f.canCellBeSelected(c.row,c.cell)){b.range.end=c;o.show(new Slick.Range(b.range.start.row,b.range.start.cell,c.row,c.cell))}}}function g(a,b){if(k){k=false;a.stopImmediatePropagation();o.hide();m.onCellRangeSelected.notify({range:new Slick.Range(b.range.start.row,b.range.start.cell,b.range.end.row,b.range.end.cell)})}}var f,j,k,o,m=this,n=new Slick.EventHandler,z={selectionCss:{border:"2px dashed blue"}};d.extend(this,{init:function(k){a=d.extend(true,
{},z,a);o=new Slick.CellRangeDecorator(k,a);f=k;j=f.getCanvasNode();n.subscribe(f.onDragInit,b).subscribe(f.onDragStart,c).subscribe(f.onDrag,e).subscribe(f.onDragEnd,g)},destroy:function(){n.unsubscribeAll()},onBeforeCellRangeSelected:new Slick.Event,onCellRangeSelected:new Slick.Event})}}})})(jQuery);