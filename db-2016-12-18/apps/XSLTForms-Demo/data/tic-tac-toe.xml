<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xf="http://www.w3.org/2002/xforms"><head><title>Noughts and Crosses</title><xf:model id="model1"><xf:instance id="inst1"><root xmlns=""><row><col/><col/><col/></row><row><col/><col/><col/></row><row><col/><col/><col/></row><next>0</next><rows r1="false" r2="false" r3="false"/><columns c1="false" c2="false" c3="false"/><diagonals d1="false" d2="false"/><game resolved="false"/><game finished="false"/></root></xf:instance><xf:bind id="row1" nodeset="rows/@r1" calculate="not(../../row[1]/col[1] = '') and ../../row[1]/col[1] = ../../row[1]/col[2] and ../../row[1]/col[2] = ../../row[1]/col[3]"/><xf:bind id="row2" nodeset="rows/@r2" calculate="not(../../row[2]/col[1] = '') and ../../row[2]/col[1] = ../../row[2]/col[2] and ../../row[2]/col[2] = ../../row[2]/col[3]"/><xf:bind id="row3" nodeset="rows/@r3" calculate="not(../../row[3]/col[1] = '') and ../../row[3]/col[1] = ../../row[3]/col[2] and ../../row[3]/col[2] = ../../row[3]/col[3]"/><xf:bind id="col1" nodeset="columns/@c1" calculate="not(../../row[1]/col[1] = '') and ../../row[1]/col[1] = ../../row[2]/col[1] and ../../row[2]/col[1] = ../../row[3]/col[1]"/><xf:bind id="col2" nodeset="columns/@c2" calculate="not(../../row[1]/col[2] = '') and ../../row[1]/col[2] = ../../row[2]/col[2] and ../../row[2]/col[2] = ../../row[3]/col[2]"/><xf:bind id="col3" nodeset="columns/@c3" calculate="not(../../row[1]/col[3] = '') and ../../row[1]/col[3] = ../../row[2]/col[3] and ../../row[2]/col[3] = ../../row[3]/col[3]"/><xf:bind id="diag1" nodeset="diagonals/@d1" calculate="not(../../row[1]/col[1] = '') and ../../row[1]/col[1] = ../../row[2]/col[2] and ../../row[2]/col[2] = ../../row[3]/col[3]"/><xf:bind id="diag2" nodeset="diagonals/@d2" calculate="not(../../row[1]/col[3] = '') and ../../row[1]/col[3] = ../../row[2]/col[2] and ../../row[2]/col[2] = ../../row[3]/col[1]"/><xf:bind id="resolved" nodeset="game/@resolved" calculate="../../rows/@* = 'true' or ../../columns/@* = 'true' or ../../diagonals/@* = 'true'"/><xf:bind id="finished" nodeset="game/@finished" calculate="                     not(../../row[1]/col[1] = '') and                      not(../../row[1]/col[2] = '') and                     not(../../row[1]/col[3] = '') and                     not(../../row[2]/col[1] = '') and                     not(../../row[2]/col[2] = '') and                     not(../../row[2]/col[3] = '') and                     not(../../row[3]/col[1] = '') and                     not(../../row[3]/col[2] = '') and                     not(../../row[3]/col[3] = '')"/><xf:bind id="readonly" nodeset="." readonly="game/@resolved='true'"/><xf:bind id="readonly" nodeset="." readonly="game/@finished='true'"/><xf:bind id="readonlycell" nodeset="row/col" readonly="not(.='')"/></xf:model><style type="text/css"> td.white &gt; span &gt; span &gt; input { background-color:white; }
       td.yellow &gt; span &gt; span &gt; input { background-color:yellow; } 
       input {width:1em; text-align:center; }
      </style></head><body style="background-color:white;margin:50px;"><h2>Noughts and Crosses Game</h2>
      Click in each box. Fill a row, a column or a diagonal with all 0's or all X's to win.
      <table><tbody><tr><td class="{if((rows/@r1=true() or columns/@c1=true() or diagonals/@d1=true()),'yellow','white')}"><xf:input ref="row[1]/col[1]" incremental="true"><xf:action ev:event="DOMFocusIn" if=".='' and instance('inst1')/game/@resolved[.!=true()]"><xf:setvalue ref="." value="instance('inst1')/next"/><xf:setvalue ref="instance('inst1')/next" value="if(.='X','0','X')"/></xf:action></xf:input></td><td class="{if((rows/@r1=true() or columns/@c2=true() ),'yellow','white')}"><xf:input ref="row[1]/col[2]" incremental="true"><xf:action ev:event="DOMFocusIn" if=".='' and instance('inst1')/game/@resolved[.!=true()]"><xf:setvalue ref="." value="instance('inst1')/next"/><xf:setvalue ref="instance('inst1')/next" value="if(.='X','0','X')"/></xf:action></xf:input></td><td class="{if((rows/@r1=true() or columns/@c3=true() or diagonals/@d2=true() ),'yellow','white')}"><xf:input ref="row[1]/col[3]" incremental="true"><xf:action ev:event="DOMFocusIn" if=".='' and instance('inst1')/game/@resolved[.!=true()]"><xf:setvalue ref="." value="instance('inst1')/next"/><xf:setvalue ref="instance('inst1')/next" value="if(.='X','0','X')"/></xf:action></xf:input></td></tr><tr><td class="{if((rows/@r2=true() or columns/@c1=true()),'yellow','white')}"><xf:input ref="row[2]/col[1]" incremental="true"><xf:action ev:event="DOMFocusIn" if=".='' and instance('inst1')/game/@resolved[.!=true()]"><xf:setvalue ref="." value="instance('inst1')/next"/><xf:setvalue ref="instance('inst1')/next" value="if(.='X','0','X')"/></xf:action></xf:input></td><td class="{if((rows/@r2=true() or columns/@c2=true() or diagonals/@d1=true() or diagonals/@d2=true()),'yellow','white')}"><xf:input ref="row[2]/col[2]" incremental="true"><xf:action ev:event="DOMFocusIn" if=".='' and instance('inst1')/game/@resolved[.!=true()]"><xf:setvalue ref="." value="instance('inst1')/next"/><xf:setvalue ref="instance('inst1')/next" value="if(.='X','0','X')"/></xf:action></xf:input></td><td class="{if((rows/@r2=true() or columns/@c3=true()),'yellow','white')}"><xf:input ref="row[2]/col[3]" incremental="true"><xf:action ev:event="DOMFocusIn" if=".='' and instance('inst1')/game/@resolved[.!=true()]"><xf:setvalue ref="." value="instance('inst1')/next"/><xf:setvalue ref="instance('inst1')/next" value="if(.='X','0','X')"/></xf:action></xf:input></td></tr><tr><td class="{if((rows/@r3=true() or columns/@c1=true() or diagonals/@d2=true() ),'yellow','white')}"><xf:input ref="row[3]/col[1]" incremental="true"><xf:action ev:event="DOMFocusIn" if=".='' and instance('inst1')/game/@resolved[.!=true()]"><xf:setvalue ref="." value="instance('inst1')/next"/><xf:setvalue ref="instance('inst1')/next" value="if(.='X','0','X')"/></xf:action></xf:input></td><td class="{if((rows/@r3=true() or columns/@c2=true()),'yellow','white')}"><xf:input ref="row[3]/col[2]" incremental="true"><xf:action ev:event="DOMFocusIn" if=".='' and instance('inst1')/game/@resolved[.!=true()]"><xf:setvalue ref="." value="instance('inst1')/next"/><xf:setvalue ref="instance('inst1')/next" value="if(.='X','0','X')"/></xf:action></xf:input></td><td class="{if((rows/@r3=true() or columns/@c3=true() or diagonals/@d1=true() ),'yellow','white')}"><xf:input ref="row[3]/col[3]" incremental="true"><xf:action ev:event="DOMFocusIn" if=".='' and instance('inst1')/game/@resolved[.!=true()]"><xf:setvalue ref="." value="instance('inst1')/next"/><xf:setvalue ref="instance('inst1')/next" value="if(.='X','0','X')"/></xf:action></xf:input></td></tr></tbody></table><div><xf:group ref="game/@finished[.=true()]">Game over!</xf:group><xf:group ref="game/@resolved[.=true()]">Congratulations, you have WON!</xf:group><xf:group ref="game[@finished=true() and @resolved=false()]">Cat's game!</xf:group></div><xf:trigger><xf:label>Clear</xf:label><xf:reset ev:event="DOMActivate"/></xf:trigger></body></html>