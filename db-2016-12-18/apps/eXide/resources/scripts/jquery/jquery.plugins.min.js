(function(c){c.fn.drag=function(a,e,b){var d="string"==typeof a?a:"",f=c.isFunction(a)?a:c.isFunction(e)?e:null;0!==d.indexOf("drag")&&(d="drag"+d);b=(a==f?e:b)||{};return f?this.bind(d,b,f):this.trigger(d)};var b=c.event,a=b.special,e=a.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(a){var b=c.data(this,e.datakey),d=a.data||{};b.related+=1;c.each(e.defaults,function(a){void 0!==d[a]&&(b[a]=d[a])})},remove:function(){c.data(this,
e.datakey).related-=1},setup:function(){if(!c.data(this,e.datakey)){var a=c.extend({related:0},e.defaults);c.data(this,e.datakey,a);b.add(this,"touchstart mousedown",e.init,a);this.attachEvent&&this.attachEvent("ondragstart",e.dontstart)}},teardown:function(){(c.data(this,e.datakey)||{}).related||(c.removeData(this,e.datakey),b.remove(this,"touchstart mousedown",e.init),e.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",e.dontstart))},init:function(g){if(!e.touched){var d=g.data,f;
if(!(0!=g.which&&0<d.which&&g.which!=d.which)&&!c(g.target).is(d.not)&&(!d.handle||c(g.target).closest(d.handle,g.currentTarget).length))if(e.touched="touchstart"==g.type?this:null,d.propagates=1,d.mousedown=this,d.interactions=[e.interaction(this,d)],d.target=g.target,d.pageX=g.pageX,d.pageY=g.pageY,d.dragging=null,f=e.hijack(g,"draginit",d),d.propagates){if((f=e.flatten(f))&&f.length)d.interactions=[],c.each(f,function(){d.interactions.push(e.interaction(this,d))});d.propagates=d.interactions.length;
!1!==d.drop&&a.drop&&a.drop.handler(g,d);e.textselect(!1);e.touched?b.add(e.touched,"touchmove touchend",e.handler,d):b.add(document,"mousemove mouseup",e.handler,d);if(!e.touched||d.live)return!1}}},interaction:function(a,b){var d=c(a)[b.relative?"position":"offset"]()||{top:0,left:0};return{drag:a,callback:new e.callback,droppable:[],offset:d}},handler:function(d){var f=d.data;switch(d.type){case !f.dragging&&"touchmove":d.preventDefault();case !f.dragging&&"mousemove":if(Math.pow(d.pageX-f.pageX,
2)+Math.pow(d.pageY-f.pageY,2)<Math.pow(f.distance,2))break;d.target=f.target;e.hijack(d,"dragstart",f);f.propagates&&(f.dragging=!0);case "touchmove":d.preventDefault();case "mousemove":if(f.dragging){e.hijack(d,"drag",f);if(f.propagates){!1!==f.drop&&a.drop&&a.drop.handler(d,f);break}d.type="mouseup"}default:e.touched?b.remove(e.touched,"touchmove touchend",e.handler):b.remove(document,"mousemove mouseup",e.handler),f.dragging&&(!1!==f.drop&&a.drop&&a.drop.handler(d,f),e.hijack(d,"dragend",f)),
e.textselect(!0),!1===f.click&&f.dragging&&c.data(f.mousedown,"suppress.click",(new Date).getTime()+5),f.dragging=e.touched=!1}},hijack:function(a,d,f,l,o){if(f){var m=a.originalEvent,z=a.type,t=d.indexOf("drop")?"drag":"drop",h,s=l||0,i,q,l=!isNaN(l)?l:f.interactions.length;a.type=d;a.originalEvent=null;f.results=[];do if((i=f.interactions[s])&&!("dragend"!==d&&i.cancelled))q=e.properties(a,f,i),i.results=[],c(o||i[t]||f.droppable).each(function(l,o){q.target=o;a.isPropagationStopped=function(){return!1};
h=o?b.dispatch.call(o,a,q):null;!1===h?("drag"==t&&(i.cancelled=!0,f.propagates-=1),"drop"==d&&(i[t][l]=null)):"dropinit"==d&&i.droppable.push(e.element(h)||o);"dragstart"==d&&(i.proxy=c(e.element(h)||i.drag)[0]);i.results.push(h);delete a.result;if("dropinit"!==d)return h}),f.results[s]=e.flatten(i.results),"dropinit"==d&&(i.droppable=e.flatten(i.droppable)),"dragstart"==d&&!i.cancelled&&q.update();while(++s<l);a.type=z;a.originalEvent=m;return e.flatten(f.results)}},properties:function(a,b,d){var c=
d.callback;c.drag=d.drag;c.proxy=d.proxy||d.drag;c.startX=b.pageX;c.startY=b.pageY;c.deltaX=a.pageX-b.pageX;c.deltaY=a.pageY-b.pageY;c.originalX=d.offset.left;c.originalY=d.offset.top;c.offsetX=c.originalX+c.deltaX;c.offsetY=c.originalY+c.deltaY;c.drop=e.flatten((d.drop||[]).slice());c.available=e.flatten((d.droppable||[]).slice());return c},element:function(a){if(a&&(a.jquery||1==a.nodeType))return a},flatten:function(a){return c.map(a,function(a){return a&&a.jquery?c.makeArray(a):a&&a.length?e.flatten(a):
a})},textselect:function(a){c(document)[a?"unbind":"bind"]("selectstart",e.dontstart).css("MozUserSelect",a?"":"none");document.unselectable=a?"off":"on"},dontstart:function(){return!1},callback:function(){}};e.callback.prototype={update:function(){a.drop&&this.available.length&&c.each(this.available,function(b){a.drop.locate(this,b)})}};var d=b.dispatch;b.dispatch=function(a){if(0<c.data(this,"suppress."+a.type)-(new Date).getTime())c.removeData(this,"suppress."+a.type);else return d.apply(this,
arguments)};var f=b.fixHooks.touchstart=b.fixHooks.touchmove=b.fixHooks.touchend=b.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(a,b){if(b){var e=b.touches&&b.touches[0]||b.changedTouches&&b.changedTouches[0]||null;e&&c.each(f.props,function(b,d){a[d]=e[d]})}return a}};a.draginit=a.dragstart=a.dragend=e})(jQuery);(function(c){"function"===typeof define&&define.amd?define(["jquery","jquery.ui.widget"],c):c(window.jQuery)})(function(c){c.support.fileInput=!(RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||c('<input type="file">').prop("disabled"));c.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader);c.support.xhrFormDataFileUpload=!!window.FormData;c.support.blobSlice=
window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);c.widget("blueimp.fileupload",{options:{dropZone:c(document),pasteZone:c(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,
uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(b,a){b=this.messages[b]||b.toString();a&&c.each(a,function(a,d){b=b.replace("{"+a+"}",d)});return b},formData:function(b){return b.serializeArray()},add:function(b,a){if(b.isDefaultPrevented())return!1;(a.autoUpload||!1!==a.autoUpload&&c(this).fileupload("option","autoUpload"))&&a.process().done(function(){a.submit()})},processData:!1,
contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:c.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.bitrate=this.loaded=0;this.getBitrate=function(b,a,e){var d=b-this.timestamp;if(!this.bitrate||!e||d>e)this.bitrate=8*(a-this.loaded)*(1E3/d),this.loaded=a,this.timestamp=b;return this.bitrate}},
_isXHRUpload:function(b){return!b.forceIframeTransport&&(!b.multipart&&c.support.xhrFileUpload||c.support.xhrFormDataFileUpload)},_getFormData:function(b){var a;return"function"===c.type(b.formData)?b.formData(b.form):c.isArray(b.formData)?b.formData:"object"===c.type(b.formData)?(a=[],c.each(b.formData,function(b,d){a.push({name:b,value:d})}),a):[]},_getTotal:function(b){var a=0;c.each(b,function(b,d){a+=d.size||1});return a},_initProgressObject:function(b){var a={loaded:0,total:0,bitrate:0};b._progress?
c.extend(b._progress,a):b._progress=a},_initResponseObject:function(b){var a;if(b._response)for(a in b._response)b._response.hasOwnProperty(a)&&delete b._response[a];else b._response={}},_onProgress:function(b,a){if(b.lengthComputable){var e=Date.now?Date.now():(new Date).getTime(),d;if(!a._time||!a.progressInterval||!(e-a._time<a.progressInterval&&b.loaded!==b.total))a._time=e,d=Math.floor(b.loaded/b.total*(a.chunkSize||a._progress.total))+(a.uploadedBytes||0),this._progress.loaded+=d-a._progress.loaded,
this._progress.bitrate=this._bitrateTimer.getBitrate(e,this._progress.loaded,a.bitrateInterval),a._progress.loaded=a.loaded=d,a._progress.bitrate=a.bitrate=a._bitrateTimer.getBitrate(e,d,a.bitrateInterval),this._trigger("progress",c.Event("progress",{delegatedEvent:b}),a),this._trigger("progressall",c.Event("progressall",{delegatedEvent:b}),this._progress)}},_initProgressListener:function(b){var a=this,e=b.xhr?b.xhr():c.ajaxSettings.xhr();e.upload&&(c(e.upload).bind("progress",function(e){var c=e.originalEvent;
e.lengthComputable=c.lengthComputable;e.loaded=c.loaded;e.total=c.total;a._onProgress(e,b)}),b.xhr=function(){return e})},_isInstanceOf:function(b,a){return Object.prototype.toString.call(a)==="[object "+b+"]"},_initXHRData:function(b){var a=this,e,d=b.files[0],f=b.multipart||!c.support.xhrFileUpload,g="array"===c.type(b.paramName)?b.paramName[0]:b.paramName;b.headers=c.extend({},b.headers);b.contentRange&&(b.headers["Content-Range"]=b.contentRange);if(!f||b.blob||!this._isInstanceOf("File",d))b.headers["Content-Disposition"]=
'attachment; filename="'+encodeURI(d.name)+'"';f?c.support.xhrFormDataFileUpload&&(b.postMessage?(e=this._getFormData(b),b.blob?e.push({name:g,value:b.blob}):c.each(b.files,function(a,d){e.push({name:c.type(b.paramName)==="array"&&b.paramName[a]||g,value:d})})):(a._isInstanceOf("FormData",b.formData)?e=b.formData:(e=new FormData,c.each(this._getFormData(b),function(a,b){e.append(b.name,b.value)})),b.blob?e.append(g,b.blob,d.name):c.each(b.files,function(d,f){if(a._isInstanceOf("File",f)||a._isInstanceOf("Blob",
f))e.append(c.type(b.paramName)==="array"&&b.paramName[d]||g,f,f.uploadName||f.name)})),b.data=e):(b.contentType=d.type||"application/octet-stream",b.data=b.blob||d);b.blob=null},_initIframeSettings:function(b){var a=c("<a></a>").prop("href",b.url).prop("host");b.dataType="iframe "+(b.dataType||"");b.formData=this._getFormData(b);b.redirect&&(a&&a!==location.host)&&b.formData.push({name:b.redirectParamName||"redirect",value:b.redirect})},_initDataSettings:function(b){if(this._isXHRUpload(b)){if(this._chunkedUpload(b,
!0)||(b.data||this._initXHRData(b),this._initProgressListener(b)),b.postMessage)b.dataType="postmessage "+(b.dataType||"")}else this._initIframeSettings(b)},_getParamName:function(b){var a=c(b.fileInput),e=b.paramName;e?c.isArray(e)||(e=[e]):(e=[],a.each(function(){for(var a=c(this),b=a.prop("name")||"files[]",a=(a.prop("files")||[1]).length;a;)e.push(b),a-=1}),e.length||(e=[a.prop("name")||"files[]"]));return e},_initFormSettings:function(b){if(!b.form||!b.form.length)b.form=c(b.fileInput.prop("form")),
b.form.length||(b.form=c(this.options.fileInput.prop("form")));b.paramName=this._getParamName(b);b.url||(b.url=b.form.prop("action")||location.href);b.type=(b.type||"string"===c.type(b.form.prop("method"))&&b.form.prop("method")||"").toUpperCase();"POST"!==b.type&&("PUT"!==b.type&&"PATCH"!==b.type)&&(b.type="POST");b.formAcceptCharset||(b.formAcceptCharset=b.form.attr("accept-charset"))},_getAJAXSettings:function(b){b=c.extend({},this.options,b);this._initFormSettings(b);this._initDataSettings(b);
return b},_getDeferredState:function(b){return b.state?b.state():b.isResolved()?"resolved":b.isRejected()?"rejected":"pending"},_enhancePromise:function(b){b.success=b.done;b.error=b.fail;b.complete=b.always;return b},_getXHRPromise:function(b,a,e){var d=c.Deferred(),f=d.promise(),a=a||this.options.context||f;!0===b?d.resolveWith(a,e):!1===b&&d.rejectWith(a,e);f.abort=d.promise;return this._enhancePromise(f)},_addConvenienceMethods:function(b,a){var e=this,d=function(a){return c.Deferred().resolveWith(e,
a).promise()};a.process=function(b,g){if(b||g)a._processQueue=this._processQueue=(this._processQueue||d([this])).pipe(function(){return a.errorThrown?c.Deferred().rejectWith(e,[a]).promise():d(arguments)}).pipe(b,g);return this._processQueue||d([this])};a.submit=function(){"pending"!==this.state()&&(a.jqXHR=this.jqXHR=!1!==e._trigger("submit",c.Event("submit",{delegatedEvent:b}),this)&&e._onSend(b,this));return this.jqXHR||e._getXHRPromise()};a.abort=function(){if(this.jqXHR)return this.jqXHR.abort();
this.errorThrown="abort";e._trigger("fail",null,this);return e._getXHRPromise(!1)};a.state=function(){if(this.jqXHR)return e._getDeferredState(this.jqXHR);if(this._processQueue)return e._getDeferredState(this._processQueue)};a.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===e._getDeferredState(this._processQueue)};a.progress=function(){return this._progress};a.response=function(){return this._response}},_getUploadedBytes:function(b){return(b=(b=(b=b.getResponseHeader("Range"))&&
b.split("-"))&&1<b.length&&parseInt(b[1],10))&&b+1},_chunkedUpload:function(b,a){b.uploadedBytes=b.uploadedBytes||0;var e=this,d=b.files[0],f=d.size,g=b.uploadedBytes,j=b.maxChunkSize||f,k=this._blobSlice,l=c.Deferred(),o=l.promise(),m,z;if(!this._isXHRUpload(b)||(!k||!(g||j<f))||b.data)return!1;if(a)return!0;if(g>=f)return d.error=b.i18n("uploadedBytes"),this._getXHRPromise(!1,b.context,[null,"error",d.error]);z=function(){var a=c.extend({},b),h=a._progress.loaded;a.blob=k.call(d,g,g+j,d.type);a.chunkSize=
a.blob.size;a.contentRange="bytes "+g+"-"+(g+a.chunkSize-1)+"/"+f;e._initXHRData(a);e._initProgressListener(a);m=(!1!==e._trigger("chunksend",null,a)&&c.ajax(a)||e._getXHRPromise(!1,a.context)).done(function(d,j,q){g=e._getUploadedBytes(q)||g+a.chunkSize;h+a.chunkSize-a._progress.loaded&&e._onProgress(c.Event("progress",{lengthComputable:!0,loaded:g-a.uploadedBytes,total:g-a.uploadedBytes}),a);b.uploadedBytes=a.uploadedBytes=g;a.result=d;a.textStatus=j;a.jqXHR=q;e._trigger("chunkdone",null,a);e._trigger("chunkalways",
null,a);g<f?z():l.resolveWith(a.context,[d,j,q])}).fail(function(b,c,d){a.jqXHR=b;a.textStatus=c;a.errorThrown=d;e._trigger("chunkfail",null,a);e._trigger("chunkalways",null,a);l.rejectWith(a.context,[b,c,d])})};this._enhancePromise(o);o.abort=function(){return m.abort()};z();return o},_beforeSend:function(b,a){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0);this._initResponseObject(a);this._initProgressObject(a);
a._progress.loaded=a.loaded=a.uploadedBytes||0;a._progress.total=a.total=this._getTotal(a.files)||1;a._progress.bitrate=a.bitrate=0;this._active+=1;this._progress.loaded+=a.loaded;this._progress.total+=a.total},_onDone:function(b,a,e,d){var f=d._progress.total,g=d._response;d._progress.loaded<f&&this._onProgress(c.Event("progress",{lengthComputable:!0,loaded:f,total:f}),d);g.result=d.result=b;g.textStatus=d.textStatus=a;g.jqXHR=d.jqXHR=e;this._trigger("done",null,d)},_onFail:function(b,a,e,c){var f=
c._response;c.recalculateProgress&&(this._progress.loaded-=c._progress.loaded,this._progress.total-=c._progress.total);f.jqXHR=c.jqXHR=b;f.textStatus=c.textStatus=a;f.errorThrown=c.errorThrown=e;this._trigger("fail",null,c)},_onAlways:function(b,a,e,c){this._trigger("always",null,c)},_onSend:function(b,a){a.submit||this._addConvenienceMethods(b,a);var e=this,d,f,g,j,k=e._getAJAXSettings(a),l=function(){e._sending+=1;k._bitrateTimer=new e._BitrateTimer;return d=d||((f||!1===e._trigger("send",c.Event("send",
{delegatedEvent:b}),k))&&e._getXHRPromise(!1,k.context,f)||e._chunkedUpload(k)||c.ajax(k)).done(function(a,b,c){e._onDone(a,b,c,k)}).fail(function(a,b,c){e._onFail(a,b,c,k)}).always(function(a,b,c){e._onAlways(a,b,c,k);e._sending-=1;e._active-=1;if(k.limitConcurrentUploads&&k.limitConcurrentUploads>e._sending)for(a=e._slots.shift();a;){if("pending"===e._getDeferredState(a)){a.resolve();break}a=e._slots.shift()}0===e._active&&e._trigger("stop")})};this._beforeSend(b,k);return this.options.sequentialUploads||
this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(g=c.Deferred(),this._slots.push(g),j=g.pipe(l)):j=this._sequence=this._sequence.pipe(l,l),j.abort=function(){f=[void 0,"abort","abort"];if(!d){g&&g.rejectWith(k.context,f);return l()}return d.abort()},this._enhancePromise(j)):l()},_onAdd:function(b,a){var e=this,d=!0,f=c.extend({},this.options,a),g=a.files,j=g.length,k=f.limitMultiFileUploads,l=f.limitMultiFileUploadSize,
o=f.limitMultiFileUploadSizeOverhead,m=0,z=this._getParamName(f),t,h,s=0;if(l&&(!j||void 0===g[0].size))l=void 0;if(!f.singleFileUploads&&!k&&!l||!this._isXHRUpload(f))h=[g],t=[z];else if(!f.singleFileUploads&&!l&&k){h=[];t=[];for(f=0;f<j;f+=k)h.push(g.slice(f,f+k)),m=z.slice(f,f+k),m.length||(m=z),t.push(m)}else if(!f.singleFileUploads&&l){h=[];t=[];for(f=0;f<j;f+=1)if(m+=g[f].size+o,f+1===j||m+g[f+1].size+o>l||k&&f+1-s>=k)h.push(g.slice(s,f+1)),m=z.slice(s,f+1),m.length||(m=z),t.push(m),s=f+1,m=
0}else t=z;a.originalFiles=g;c.each(h||g,function(g,f){var j=c.extend({},a);j.files=h?f:[f];j.paramName=t[g];e._initResponseObject(j);e._initProgressObject(j);e._addConvenienceMethods(b,j);return d=e._trigger("add",c.Event("add",{delegatedEvent:b}),j)});return d},_replaceFileInput:function(b){var a=b.clone(!0);c("<form></form>").append(a)[0].reset();b.after(a).detach();c.cleanData(b.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(e,c){return c===b[0]?a[0]:c});b[0]===this.element[0]&&
(this.element=a)},_handleFileTreeEntry:function(b,a){var e=this,d=c.Deferred(),f=function(a){a&&!a.entry&&(a.entry=b);d.resolve([a])},g,a=a||"";b.isFile?b._file?(b._file.relativePath=a,d.resolve(b._file)):b.file(function(b){b.relativePath=a;d.resolve(b)},f):b.isDirectory?(g=b.createReader(),g.readEntries(function(c){e._handleFileTreeEntries(c,a+b.name+"/").done(function(a){d.resolve(a)}).fail(f)},f)):d.resolve([]);return d.promise()},_handleFileTreeEntries:function(b,a){var e=this;return c.when.apply(c,
c.map(b,function(b){return e._handleFileTreeEntry(b,a)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(b){var b=b||{},a=b.items;return a&&a.length&&(a[0].webkitGetAsEntry||a[0].getAsEntry)?this._handleFileTreeEntries(c.map(a,function(a){var b;if(a.webkitGetAsEntry){if(b=a.webkitGetAsEntry())b._file=a.getAsFile();return b}return a.getAsEntry()})):c.Deferred().resolve(c.makeArray(b.files)).promise()},_getSingleFileInputFiles:function(b){var b=c(b),a=
b.prop("webkitEntries")||b.prop("entries");if(a&&a.length)return this._handleFileTreeEntries(a);a=c.makeArray(b.prop("files"));if(a.length)void 0===a[0].name&&a[0].fileName&&c.each(a,function(a,b){b.name=b.fileName;b.size=b.fileSize});else{b=b.prop("value");if(!b)return c.Deferred().resolve([]).promise();a=[{name:b.replace(/^.*\\/,"")}]}return c.Deferred().resolve(a).promise()},_getFileInputFiles:function(b){return!(b instanceof c)||1===b.length?this._getSingleFileInputFiles(b):c.when.apply(c,c.map(b,
this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(b){var a=this,e={fileInput:c(b.target),form:c(b.target.form)};this._getFileInputFiles(e.fileInput).always(function(d){e.files=d;a.options.replaceFileInput&&a._replaceFileInput(e.fileInput);!1!==a._trigger("change",c.Event("change",{delegatedEvent:b}),e)&&a._onAdd(b,e)})},_onPaste:function(b){var a=b.originalEvent&&b.originalEvent.clipboardData&&b.originalEvent.clipboardData.items,
e={files:[]};a&&a.length&&(c.each(a,function(a,b){var c=b.getAsFile&&b.getAsFile();c&&e.files.push(c)}),!1!==this._trigger("paste",c.Event("paste",{delegatedEvent:b}),e)&&this._onAdd(b,e))},_onDrop:function(b){b.dataTransfer=b.originalEvent&&b.originalEvent.dataTransfer;var a=this,e=b.dataTransfer,d={};e&&(e.files&&e.files.length)&&(b.preventDefault(),this._getDroppedFiles(e).always(function(e){d.files=e;!1!==a._trigger("drop",c.Event("drop",{delegatedEvent:b}),d)&&a._onAdd(b,d)}))},_onDragOver:function(b){b.dataTransfer=
b.originalEvent&&b.originalEvent.dataTransfer;var a=b.dataTransfer;a&&(-1!==c.inArray("Files",a.types)&&!1!==this._trigger("dragover",c.Event("dragover",{delegatedEvent:b})))&&(b.preventDefault(),a.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste}));c.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,
"dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(b,a){var e=-1!==c.inArray(b,this._specialOptions);e&&this._destroyEventHandlers();this._super(b,a);e&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var b=this.options;void 0===b.fileInput?b.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):b.fileInput instanceof c||(b.fileInput=c(b.fileInput));
b.dropZone instanceof c||(b.dropZone=c(b.dropZone));b.pasteZone instanceof c||(b.pasteZone=c(b.pasteZone))},_getRegExp:function(b){var b=b.split("/"),a=b.pop();b.shift();return RegExp(b.join("/"),a)},_isRegExpOption:function(b,a){return"url"!==b&&"string"===c.type(a)&&/^\/.*\/[igm]{0,3}$/.test(a)},_initDataAttributes:function(){var b=this,a=this.options,e=c(this.element[0].cloneNode(!1));c.each(e.data(),function(c,f){var g="data-"+c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();e.attr(g)&&(b._isRegExpOption(c,
f)&&(f=b._getRegExp(f)),a[c]=f)})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(b){var a=this;b&&!this.options.disabled&&(b.fileInput&&!b.files?this._getFileInputFiles(b.fileInput).always(function(c){b.files=c;a._onAdd(null,b)}):(b.files=
c.makeArray(b.files),this._onAdd(null,b)))},send:function(b){if(b&&!this.options.disabled){if(b.fileInput&&!b.files){var a=this,e=c.Deferred(),d=e.promise(),f,g;d.abort=function(){g=!0;if(f)return f.abort();e.reject(null,"abort","abort");return d};this._getFileInputFiles(b.fileInput).always(function(c){g||(c.length?(b.files=c,f=a._onSend(null,b).then(function(a,b,c){e.resolve(a,b,c)},function(a,b,c){e.reject(a,b,c)})):e.reject())});return this._enhancePromise(d)}b.files=c.makeArray(b.files);if(b.files.length)return this._onSend(null,
b)}return this._getXHRPromise(!1,b&&b.context)}})});(function(c){"function"===typeof define&&define.amd?define("jquery tmpl ./jquery.fileupload-image ./jquery.fileupload-audio ./jquery.fileupload-video ./jquery.fileupload-validate".split(" "),c):c(window.jQuery,window.tmpl)})(function(c,b){c.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId");c.widget("blueimp.fileupload",c.blueimp.fileupload,{options:{autoUpload:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,
prependFiles:!1,dataType:"json",getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(a){return a.result&&c.isArray(a.result.files)?a.result.files:[]},add:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this),f=d.data("blueimp-fileupload")||d.data("fileupload"),g=f.options;b.context=f._renderUpload(b.files).data("data",b).addClass("processing");g.filesContainer[g.prependFiles?"prepend":"append"](b.context);f._forceReflow(b.context);
f._transition(b.context);b.process(function(){return d.fileupload("process",b)}).always(function(){b.context.each(function(a){c(this).find(".size").text(f._formatFileSize(b.files[a].size))}).removeClass("processing");f._renderPreviews(b)}).done(function(){b.context.find(".start").prop("disabled",!1);!1!==f._trigger("added",a,b)&&((g.autoUpload||b.autoUpload)&&!1!==b.autoUpload)&&b.submit()}).fail(function(){b.files.error&&b.context.each(function(a){(a=b.files[a].error)&&c(this).find(".error").text(a)})})},
send:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this).data("blueimp-fileupload")||c(this).data("fileupload");b.context&&(b.dataType&&"iframe"===b.dataType.substr(0,6))&&b.context.find(".progress").addClass(!c.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%");return d._trigger("sent",a,b)},done:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),f=(b.getFilesFromResponse||
d.options.getFilesFromResponse)(b),g,j;b.context?b.context.each(function(k){var l=f[k]||{error:"Empty file upload result"};j=d._addFinishedDeferreds();d._transition(c(this)).done(function(){var f=c(this);g=d._renderDownload([l]).replaceAll(f);d._forceReflow(g);d._transition(g).done(function(){b.context=c(this);d._trigger("completed",a,b);d._trigger("finished",a,b);j.resolve()})})}):(g=d._renderDownload(f)[d.options.prependFiles?"prependTo":"appendTo"](d.options.filesContainer),d._forceReflow(g),j=
d._addFinishedDeferreds(),d._transition(g).done(function(){b.context=c(this);d._trigger("completed",a,b);d._trigger("finished",a,b);j.resolve()}))},fail:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),f,g;b.context?b.context.each(function(j){if("abort"!==b.errorThrown){var k=b.files[j];k.error=k.error||b.errorThrown||!0;g=d._addFinishedDeferreds();d._transition(c(this)).done(function(){var j=c(this);f=d._renderDownload([k]).replaceAll(j);
d._forceReflow(f);d._transition(f).done(function(){b.context=c(this);d._trigger("failed",a,b);d._trigger("finished",a,b);g.resolve()})})}else g=d._addFinishedDeferreds(),d._transition(c(this)).done(function(){c(this).remove();d._trigger("failed",a,b);d._trigger("finished",a,b);g.resolve()})}):"abort"!==b.errorThrown?(b.context=d._renderUpload(b.files)[d.options.prependFiles?"prependTo":"appendTo"](d.options.filesContainer).data("data",b),d._forceReflow(b.context),g=d._addFinishedDeferreds(),d._transition(b.context).done(function(){b.context=
c(this);d._trigger("failed",a,b);d._trigger("finished",a,b);g.resolve()})):(d._trigger("failed",a,b),d._trigger("finished",a,b),d._addFinishedDeferreds().resolve())},progress:function(a,b){if(a.isDefaultPrevented())return!1;var d=Math.floor(100*(b.loaded/b.total));b.context&&b.context.each(function(){c(this).find(".progress").attr("aria-valuenow",d).children().first().css("width",d+"%")})},progressall:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this),f=Math.floor(100*(b.loaded/b.total)),
g=d.find(".fileupload-progress"),j=g.find(".progress-extended");j.length&&j.html((d.data("blueimp-fileupload")||d.data("fileupload"))._renderExtendedProgress(b));g.find(".progress").attr("aria-valuenow",f).children().first().css("width",f+"%")},start:function(a){if(a.isDefaultPrevented())return!1;var b=c(this).data("blueimp-fileupload")||c(this).data("fileupload");b._resetFinishedDeferreds();b._transition(c(this).find(".fileupload-progress")).done(function(){b._trigger("started",a)})},stop:function(a){if(a.isDefaultPrevented())return!1;
var b=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),d=b._addFinishedDeferreds();c.when.apply(c,b._getFinishedDeferreds()).done(function(){b._trigger("stopped",a)});b._transition(c(this).find(".fileupload-progress")).done(function(){c(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%");c(this).find(".progress-extended").html("&nbsp;");d.resolve()})},processstart:function(a){if(a.isDefaultPrevented())return!1;c(this).addClass("fileupload-processing")},
processstop:function(a){if(a.isDefaultPrevented())return!1;c(this).removeClass("fileupload-processing")},destroy:function(a,b){if(a.isDefaultPrevented())return!1;var d=c(this).data("blueimp-fileupload")||c(this).data("fileupload"),f=function(){d._transition(b.context).done(function(){c(this).remove();d._trigger("destroyed",a,b)})};b.url?(b.dataType=b.dataType||d.options.dataType,c.ajax(b).done(f).fail(function(){d._trigger("destroyfailed",a,b)})):f()}},_resetFinishedDeferreds:function(){this._finishedUploads=
[]},_addFinishedDeferreds:function(a){a||(a=c.Deferred());this._finishedUploads.push(a);return a},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var a=c(this),b=a.prop("href"),d=a.prop("download");a.bind("dragstart",function(a){try{a.originalEvent.dataTransfer.setData("DownloadURL",["application/octet-stream",d,b].join(":"))}catch(c){}})},_formatFileSize:function(a){return"number"!==typeof a?"":1E9<=a?(a/1E9).toFixed(2)+" GB":1E6<=a?(a/1E6).toFixed(2)+
" MB":(a/1E3).toFixed(2)+" KB"},_formatBitrate:function(a){return"number"!==typeof a?"":1E9<=a?(a/1E9).toFixed(2)+" Gbit/s":1E6<=a?(a/1E6).toFixed(2)+" Mbit/s":1E3<=a?(a/1E3).toFixed(2)+" kbit/s":a.toFixed(2)+" bit/s"},_formatTime:function(a){var b=new Date(1E3*a),a=Math.floor(a/86400);return(a?a+"d ":"")+("0"+b.getUTCHours()).slice(-2)+":"+("0"+b.getUTCMinutes()).slice(-2)+":"+("0"+b.getUTCSeconds()).slice(-2)},_formatPercentage:function(a){return(100*a).toFixed(2)+" %"},_renderExtendedProgress:function(a){return this._formatBitrate(a.bitrate)+
" | "+this._formatTime(8*(a.total-a.loaded)/a.bitrate)+" | "+this._formatPercentage(a.loaded/a.total)+" | "+this._formatFileSize(a.loaded)+" / "+this._formatFileSize(a.total)},_renderTemplate:function(a,b){if(!a)return c();var d=a({files:b,formatFileSize:this._formatFileSize,options:this.options});return d instanceof c?d:c(this.options.templatesContainer).html(d).children()},_renderPreviews:function(a){a.context.find(".preview").each(function(b,d){c(d).append(a.files[b].preview)})},_renderUpload:function(a){return this._renderTemplate(this.options.uploadTemplate,
a)},_renderDownload:function(a){return this._renderTemplate(this.options.downloadTemplate,a).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(a){a.preventDefault();var a=c(a.currentTarget),b=a.closest(".template-upload").data("data");a.prop("disabled",!0);b&&b.submit&&b.submit()},_cancelHandler:function(a){a.preventDefault();var b=c(a.currentTarget).closest(".template-upload,.template-download"),d=b.data("data")||{};d.context=d.context||b;d.abort?d.abort():(d.errorThrown=
"abort",this._trigger("fail",a,d))},_deleteHandler:function(a){a.preventDefault();var b=c(a.currentTarget);this._trigger("destroy",a,c.extend({context:b.closest(".template-download"),type:"DELETE"},b.data()))},_forceReflow:function(a){return c.support.transition&&a.length&&a[0].offsetWidth},_transition:function(a){var b=c.Deferred();c.support.transition&&a.hasClass("fade")&&a.is(":visible")?a.bind(c.support.transition.end,function(d){d.target===a[0]&&(a.unbind(c.support.transition.end),b.resolveWith(a))}).toggleClass("in"):
(a.toggleClass("in"),b.resolveWith(a));return b},_initButtonBarEventHandlers:function(){var a=this.element.find(".fileupload-buttonbar"),b=this.options.filesContainer;this._on(a.find(".start"),{click:function(a){a.preventDefault();b.find(".start").click()}});this._on(a.find(".cancel"),{click:function(a){a.preventDefault();b.find(".cancel").click()}});this._on(a.find(".delete"),{click:function(c){c.preventDefault();b.find(".toggle:checked").closest(".template-download").find(".delete").click();a.find(".toggle").prop("checked",
!1)}});this._on(a.find(".toggle"),{change:function(a){b.find(".toggle").prop("checked",c(a.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click");this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super();this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler});
this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers();this._off(this.options.filesContainer,"click");this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var a=this.options;a.templatesContainer=this.document[0].createElement(a.filesContainer.prop("nodeName"));
if(b&&(a.uploadTemplateId&&(a.uploadTemplate=b(a.uploadTemplateId)),a.downloadTemplateId))a.downloadTemplate=b(a.downloadTemplateId)},_initFilesContainer:function(){var a=this.options;void 0===a.filesContainer?a.filesContainer=this.element.find(".files"):a.filesContainer instanceof c||(a.filesContainer=c(a.filesContainer))},_initSpecialOptions:function(){this._super();this._initFilesContainer();this._initTemplates()},_create:function(){this._super();this._resetFinishedDeferreds();c.support.fileInput||
this._disableFileInputButton()},enable:function(){var a=!1;this.options.disabled&&(a=!0);this._super();a&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton());this._super()}})});(function(c){"function"===typeof define&&define.amd?define(["jquery","./jquery.fileupload"],c):c(window.jQuery)})(function(c){var b=c.blueimp.fileupload.prototype.options.add;c.widget("blueimp.fileupload",c.blueimp.fileupload,{options:{processQueue:[],add:function(a,e){var d=c(this);e.process(function(){return d.fileupload("process",e)});b.call(this,a,e)}},processActions:{},_processFile:function(a,b){var d=this,f=c.Deferred().resolveWith(d,[a]).promise();this._trigger("process",null,a);c.each(a.processQueue,
function(a,j){var k=function(a){return b.errorThrown?c.Deferred().rejectWith(d,[b]).promise():d.processActions[j.action].call(d,a,j)};f=f.pipe(k,j.always&&k)});f.done(function(){d._trigger("processdone",null,a);d._trigger("processalways",null,a)}).fail(function(){d._trigger("processfail",null,a);d._trigger("processalways",null,a)});return f},_transformProcessQueue:function(a){var b=[];c.each(a.processQueue,function(){var d={},f=this.action,g=!0===this.prefix?f:this.prefix;c.each(this,function(b,f){d[b]=
"string"===c.type(f)&&"@"===f.charAt(0)?a[f.slice(1)||(g?g+b.charAt(0).toUpperCase()+b.slice(1):b)]:f});b.push(d)});a.processQueue=b},processing:function(){return this._processing},process:function(a){var b=this,d=c.extend({},this.options,a);d.processQueue&&d.processQueue.length&&(this._transformProcessQueue(d),0===this._processing&&this._trigger("processstart"),c.each(a.files,function(f){var g=f?c.extend({},d):d,j=function(){return a.errorThrown?c.Deferred().rejectWith(b,[a]).promise():b._processFile(g,
a)};g.index=f;b._processing+=1;b._processingQueue=b._processingQueue.pipe(j,j).always(function(){b._processing-=1;0===b._processing&&b._trigger("processstop")})}));return this._processingQueue},_create:function(){this._super();this._processing=0;this._processingQueue=c.Deferred().resolveWith(this).promise()}})});(function(c){function b(){var a=!1,b=!1;this.stopPropagation=function(){a=!0};this.isPropagationStopped=function(){return a};this.stopImmediatePropagation=function(){b=!0};this.isImmediatePropagationStopped=function(){return b}}function a(){this.__nonDataRow=!0}function e(){this.__group=!0;this.count=this.level=0;this.title=this.value=null;this.collapsed=!1;this.totals=null;this.rows=[];this.groupingKey=this.groups=null}function d(){this.__groupTotals=!0;this.group=null}function f(){var a=null;this.isActive=
function(b){return b?a===b:null!==a};this.activate=function(b){if(b!==a){if(null!==a)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!b.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!b.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";a=b}};this.deactivate=function(b){if(a!==b)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";
a=null};this.commitCurrentEdit=function(){return a?a.commitCurrentEdit():!0};this.cancelCurrentEdit=function(){return a?a.cancelCurrentEdit():!0}}c.extend(!0,window,{Slick:{Event:function(){var a=[];this.subscribe=function(b){a.push(b)};this.unsubscribe=function(b){for(var c=a.length-1;c>=0;c--)a[c]===b&&a.splice(c,1)};this.notify=function(c,d,f){for(var d=d||new b,f=f||this,e,m=0;m<a.length&&!d.isPropagationStopped()&&!d.isImmediatePropagationStopped();m++)e=a[m].call(f,d,c);return e}},EventData:b,
EventHandler:function(){var a=[];this.subscribe=function(b,c){a.push({event:b,handler:c});b.subscribe(c);return this};this.unsubscribe=function(b,c){for(var d=a.length;d--;)if(a[d].event===b&&a[d].handler===c){a.splice(d,1);b.unsubscribe(c);return}return this};this.unsubscribeAll=function(){for(var b=a.length;b--;)a[b].event.unsubscribe(a[b].handler);a=[];return this}},Range:function(a,b,c,d){if(c===void 0&&d===void 0){c=a;d=b}this.fromRow=Math.min(a,c);this.fromCell=Math.min(b,d);this.toRow=Math.max(a,
c);this.toCell=Math.max(b,d);this.isSingleRow=function(){return this.fromRow==this.toRow};this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell};this.contains=function(a,b){return a>=this.fromRow&&a<=this.toRow&&b>=this.fromCell&&b<=this.toCell};this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}},NonDataRow:a,Group:e,GroupTotals:d,EditorLock:f,GlobalEditorLock:new f}});
e.prototype=new a;e.prototype.equals=function(a){return this.value===a.value&&this.count===a.count&&this.collapsed===a.collapsed&&this.title===a.title};d.prototype=new a})(jQuery);(function(c){c.extend(!0,window,{Slick:{RowSelectionModel:function(b){function a(a){return function(){if(!h){h=true;a.apply(this,arguments);h=false}}}function e(a){for(var b=[],c=0;c<a.length;c++)for(var d=a[c].fromRow;d<=a[c].toRow;d++)b.push(d);return b}function d(a){for(var b=[],c=o.getColumns().length-1,d=0;d<a.length;d++)b.push(new Slick.Range(a[d],0,a[d],c));return b}function f(){return e(m)}function g(a){m=a;z.onSelectedRangesChanged.notify(m)}function j(a,b){s.selectActiveRow&&b.row!=null&&
g([new Slick.Range(b.row,0,b.row,o.getColumns().length-1)])}function k(a){var b=o.getActiveCell();if(b&&a.shiftKey&&!a.ctrlKey&&!a.altKey&&!a.metaKey&&(a.which==38||a.which==40)){var c=f();c.sort(function(a,b){return a-b});c.length||(c=[b.row]);var e=c[0],c=c[c.length-1],b=a.which==40?b.row<c||e==c?++c:++e:b.row<c?--c:--e;if(b>=0&&b<o.getDataLength()){o.scrollRowIntoView(b);for(var i=[],b=e;b<=c;b++)i.push(b);for(b=c;b<e;b++)i.push(b);m=d(i);g(m)}a.preventDefault();a.stopPropagation()}}function l(a){var b=
o.getCellFromEvent(a);if(!b||!o.canCellBeActive(b.row,b.cell)||!o.getOptions().multiSelect||!a.ctrlKey&&!a.shiftKey&&!a.metaKey)return false;var f=e(m),i=c.inArray(b.row,f);if(i===-1&&(a.ctrlKey||a.metaKey)){f.push(b.row);o.setActiveCell(b.row,b.cell)}else if(i!==-1&&(a.ctrlKey||a.metaKey)){f=c.grep(f,function(a){return a!==b.row});o.setActiveCell(b.row,b.cell)}else if(f.length&&a.shiftKey){for(var i=f.pop(),h=Math.min(b.row,i),j=Math.max(b.row,i),f=[];h<=j;h++)h!==i&&f.push(h);f.push(i);o.setActiveCell(b.row,
b.cell)}m=d(f);g(m);a.stopImmediatePropagation();return true}var o,m=[],z=this,t=new Slick.EventHandler,h,s,i={selectActiveRow:true};c.extend(this,{getSelectedRows:f,setSelectedRows:function(a){g(d(a))},getSelectedRanges:function(){return m},setSelectedRanges:g,init:function(d){s=c.extend(true,{},i,b);o=d;t.subscribe(o.onActiveCellChanged,a(j));t.subscribe(o.onKeyDown,a(k));t.subscribe(o.onClick,a(l))},destroy:function(){t.unsubscribeAll()},onSelectedRangesChanged:new Slick.Event})}}})})(jQuery);/*

 (c) 2009-2013 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.2

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.
*/
if("undefined"===typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"===typeof Slick)throw"slick.core.js not loaded";
(function(c){c.extend(!0,window,{Slick:{Grid:function(e,d,f,g){function j(){if(!T){T=true;L=parseFloat(c.css(x[0],"width",true));var a,b=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];a=c("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo(A);ca=hb=0;if(a.css("box-sizing")!="border-box"&&a.css("-moz-box-sizing")!="border-box"&&a.css("-webkit-box-sizing")!="border-box"){c.each(b,
function(b,u){ca=ca+(parseFloat(a.css(u))||0)});c.each(d,function(b,u){hb=hb+(parseFloat(a.css(u))||0)})}a.remove();var e=c("<div class='slick-row' />").appendTo(G);a=c("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(e);La=Ma=0;if(a.css("box-sizing")!="border-box"&&a.css("-moz-box-sizing")!="border-box"&&a.css("-webkit-box-sizing")!="border-box"){c.each(b,function(b,u){La=La+(parseFloat(a.css(u))||0)});c.each(d,function(b,u){Ma=Ma+(parseFloat(a.css(u))||0)})}e.remove();
da=Math.max(ca,La);A&&A.jquery&&A.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false});g.enableTextSelectionOnCells||D.bind("selectstart.ui",function(a){return c(a.target).is("input,textarea")});ib();z();A.click(function(a){a.metaKey=a.metaKey||a.ctrlKey;if(!c(a.target).hasClass("slick-resizable-handle")){var b=c(a.target).closest(".slick-header-column");if(b.length){b=b.data("column");if(b.sortable&&q().commitCurrentEdit()){for(var F=null,u=0;u<H.length;u++)if(H[u].columnId==
b.id){F=H[u];F.sortAsc=!F.sortAsc;break}if(a.metaKey&&g.multiColumnSort)F&&H.splice(u,1);else{if(!a.shiftKey&&!a.metaKey||!g.multiColumnSort)H=[];if(F)H.length==0&&H.push(F);else{F={columnId:b.id,sortAsc:b.defaultSortAsc};H.push(F)}}Ka(H);g.multiColumnSort?i(n.onSort,{multiColumnSort:true,sortCols:c.map(H,function(a){return{sortCol:f[N[a.columnId]],sortAsc:a.sortAsc}})},a):i(n.onSort,{multiColumnSort:false,sortCol:b,sortAsc:F.sortAsc},a)}}}});s();aa();for(b=G[0];(b=b.parentNode)!=document.body&&b!=
null;)if(b==D[0]||b.scrollWidth!=b.clientWidth||b.scrollHeight!=b.clientHeight){d=c(b);ra=ra?ra.add(d):d;d.bind("scroll."+M,Hb)}x.bind("resize.slickgrid",aa);D.bind("scroll",Ca);sa.bind("contextmenu",tc).bind("click",uc).delegate(".slick-header-column","mouseenter",vc).delegate(".slick-header-column","mouseleave",wc);U.bind("scroll",xc);Na.add(jb).bind("keydown",Ib);G.bind("keydown",Ib).bind("click",yc).bind("dblclick",zc).bind("contextmenu",Ac).bind("draginit",Bc).bind("dragstart",{distance:3},Cc).bind("drag",
Dc).bind("dragend",Ec).delegate(".slick-cell","mouseenter",Fc).delegate(".slick-cell","mouseleave",Gc);navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&G.bind("mousewheel",Hc)}}function k(a){for(var b=ea.length;b>=0;b--)if(ea[b]===a){ea[b].destroy&&ea[b].destroy();ea.splice(b,1);break}}function l(){for(var a=0,u=0,c=f.length;u<c;u++)a=a+f[u].width;a=a+b.width;return Math.max(a,L)+1E3}function o(){for(var a=ta?L-b.width:L,u=0,c=f.length;c--;)u=
u+f[c].width;return g.fullWidthRows?Math.max(u,a):u}function m(a){var u=V;V=o();if(V!=u){G.width(V);ha.width(V);A.width(l());kb=V>L-b.width}Jb.width(V+(ta?b.width:0));(V!=u||a)&&gb()}function z(){function a(){c(this).addClass("ui-state-hover")}function b(){c(this).removeClass("ui-state-hover")}A.find(".slick-header-column").each(function(){var a=c(this).data("column");a&&i(n.onBeforeHeaderCellDestroy,{node:this,column:a})});A.empty();A.width(l());ha.find(".slick-headerrow-column").each(function(){var a=
c(this).data("column");a&&i(n.onBeforeHeaderRowCellDestroy,{node:this,column:a})});ha.empty();for(var d=0;d<f.length;d++){var e=f[d],$=c("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+e.name+"</span>").width(e.width-ca).attr("id",""+M+e.id).attr("title",e.toolTip||"").data("column",e).addClass(e.headerCssClass||"").appendTo(A);if(g.enableColumnReorder||e.sortable)$.on("mouseenter",a).on("mouseleave",b);if(e.sortable){$.addClass("slick-header-sortable");
$.append("<span class='slick-sort-indicator' />")}i(n.onHeaderCellRendered,{node:$[0],column:e});if(g.showHeaderRow){$=c("<div class='ui-state-default slick-headerrow-column l"+d+" r"+d+"'></div>").data("column",e).appendTo(ha);i(n.onHeaderRowCellRendered,{node:$[0],column:e})}}Ka(H);t();if(g.enableColumnReorder){A.filter(":ui-sortable").sortable("destroy");A.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",
start:function(a,b){b.placeholder.width(b.helper.outerWidth()-ca);c(b.helper).addClass("slick-header-column-active")},beforeStop:function(a,b){c(b.helper).removeClass("slick-header-column-active")},stop:function(a){if(q().commitCurrentEdit()){for(var b=A.sortable("toArray"),F=[],u=0;u<b.length;u++)F.push(f[Db(b[u].replace(M,""))]);Kb(F);i(n.onColumnsReordered,{});a.stopPropagation();t()}else c(this).sortable("cancel")}})}}function t(){var a,b,d,e,$,Gb,h,j;e=A.children();e.find(".slick-resizable-handle").remove();
e.each(function(a){if(f[a].resizable){h===void 0&&(h=a);j=a}});h!==void 0&&e.each(function(k,s){if(!(k<h||g.forceFitColumns&&k>=j)){c(s);c("<div class='slick-resizable-handle' />").appendTo(s).bind("dragstart",function(i){if(!q().commitCurrentEdit())return false;d=i.pageX;c(this).parent().addClass("slick-header-column-active");var h=i=null;e.each(function(a,b){f[a].previousWidth=c(b).outerWidth()});if(g.forceFitColumns){h=i=0;for(a=k+1;a<e.length;a++){b=f[a];if(b.resizable){h!==null&&(h=b.maxWidth?
h+(b.maxWidth-b.previousWidth):null);i=i+(b.previousWidth-Math.max(b.minWidth||0,da))}}}var j=0,qa=0;for(a=0;a<=k;a++){b=f[a];if(b.resizable){qa!==null&&(qa=b.maxWidth?qa+(b.maxWidth-b.previousWidth):null);j=j+(b.previousWidth-Math.max(b.minWidth||0,da))}}i===null&&(i=1E5);j===null&&(j=1E5);h===null&&(h=1E5);qa===null&&(qa=1E5);Gb=d+Math.min(i,qa);$=d-Math.min(j,h)}).bind("drag",function(c){var i=Math.min(Gb,Math.max($,c.pageX))-d,h;if(i<0){h=i;for(a=k;a>=0;a--){b=f[a];if(b.resizable){c=Math.max(b.minWidth||
0,da);if(h&&b.previousWidth+h<c){h=h+(b.previousWidth-c);b.width=c}else{b.width=b.previousWidth+h;h=0}}}if(g.forceFitColumns){h=-i;for(a=k+1;a<e.length;a++){b=f[a];if(b.resizable)if(h&&b.maxWidth&&b.maxWidth-b.previousWidth<h){h=h-(b.maxWidth-b.previousWidth);b.width=b.maxWidth}else{b.width=b.previousWidth+h;h=0}}}}else{h=i;for(a=k;a>=0;a--){b=f[a];if(b.resizable)if(h&&b.maxWidth&&b.maxWidth-b.previousWidth<h){h=h-(b.maxWidth-b.previousWidth);b.width=b.maxWidth}else{b.width=b.previousWidth+h;h=0}}if(g.forceFitColumns){h=
-i;for(a=k+1;a<e.length;a++){b=f[a];if(b.resizable){c=Math.max(b.minWidth||0,da);if(h&&b.previousWidth+h<c){h=h+(b.previousWidth-c);b.width=c}else{b.width=b.previousWidth+h;h=0}}}}}Eb();g.syncColumnCellResize&&gb()}).bind("dragend",function(){var d;c(this).parent().removeClass("slick-header-column-active");for(a=0;a<e.length;a++){b=f[a];d=c(e[a]).outerWidth();b.previousWidth!==d&&b.rerenderOnResize&&ia()}m(true);I();i(n.onColumnsResized,{})})}})}function h(a){var b=0;c.each(["borderTopWidth","borderBottomWidth",
"paddingTop","paddingBottom"],function(c,d){b=b+(parseFloat(a.css(d))||0)});return b}function s(){ja=c("<style type='text/css' rel='stylesheet' />").appendTo(c("head"));for(var a=["."+M+" .slick-header-column { left: 1000px; }","."+M+" .slick-top-panel { height:"+g.topPanelHeight+"px; }","."+M+" .slick-headerrow-columns { height:"+g.headerRowHeight+"px; }","."+M+" .slick-cell { height:"+(g.rowHeight-Ma)+"px; }","."+M+" .slick-row { height:"+g.rowHeight+"px; }"],b=0;b<f.length;b++){a.push("."+M+" .l"+
b+" { }");a.push("."+M+" .r"+b+" { }")}ja[0].styleSheet?ja[0].styleSheet.cssText=a.join(" "):ja[0].appendChild(document.createTextNode(a.join(" ")))}function i(a,b,c){c=c||new Slick.EventData;b=b||{};b.grid=n;return a.notify(b,c,n)}function q(){return g.editorLock}function Db(a){return N[a]}function fb(){var a,c,d=[],e=0,g=0,h,i=ta?L-b.width:L;for(a=0;a<f.length;a++){c=f[a];d.push(c.width);g=g+c.width;c.resizable&&(e=e+(c.width-Math.max(c.minWidth,da)))}for(h=g;g>i&&e;){var j=(g-i)/e;for(a=0;a<f.length&&
g>i;a++){c=f[a];var k=d[a];if(c.resizable&&!(k<=c.minWidth||k<=da)){c=Math.max(c.minWidth,da);var q=Math.floor(j*(k-c))||1,q=Math.min(q,k-c),g=g-q,e=e-q;d[a]=d[a]-q}}if(h==g)break;h=g}for(h=g;g<i;){e=i/g;for(a=0;a<f.length&&g<i;a++){c=f[a];if(c.resizable&&!(c.maxWidth<=c.width)){j=Math.min(Math.floor(e*c.width)-c.width,c.maxWidth-c.width||1E6)||1;g=g+j;d[a]=d[a]+j}}if(h==g)break;h=g}g=false;for(a=0;a<f.length;a++){f[a].rerenderOnResize&&f[a].width!=d[a]&&(g=true);f[a].width=d[a]}Eb();m(true);if(g){ia();
I()}}function Eb(){if(T){for(var a,b=0,d=A.children(),e=d.length;b<e;b++){a=c(d[b]);a.width()!==f[b].width-ca&&a.width(f[b].width-ca)}ib()}}function gb(){for(var a,b,c=0,d,e=0;e<f.length;e++){d=f[e].width;b=e;if(!ka){var g=document.styleSheets;for(a=0;a<g.length;a++)if((g[a].ownerNode||g[a].owningElement)==ja[0]){ka=g[a];break}if(!ka)throw Error("Cannot find stylesheet.");lb=[];mb=[];var g=ka.cssRules||ka.rules,h=void 0,h=void 0;for(a=0;a<g.length;a++){var i=g[a].selectorText;if(h=/\.l\d+/.exec(i)){h=
parseInt(h[0].substr(2,h[0].length-2),10);lb[h]=g[a]}else if(h=/\.r\d+/.exec(i)){h=parseInt(h[0].substr(2,h[0].length-2),10);mb[h]=g[a]}}}a=lb[b];b=mb[b];a.style.left=c+"px";b.style.right=V-c-d+"px";c=c+f[e].width}}function Ka(a){H=a;var b=A.children();b.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");c.each(H,function(a,c){if(c.sortAsc==null)c.sortAsc=true;var F=N[c.columnId];F!=null&&b.eq(F).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(c.sortAsc?
"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function Fb(a,b){nb=[];for(var c={},d=0;d<b.length;d++)for(var e=b[d].fromRow;e<=b[d].toRow;e++){if(!c[e]){nb.push(e);c[e]={}}for(var h=b[d].fromCell;h<=b[d].toCell;h++)if(Lb(e,h))c[e][f[h].id]=g.selectedCellCssClass}Mb(g.selectedCellCssClass,c);i(n.onSelectedRowsChanged,{rows:Nb()},a)}function ib(){ua=[];va=[];for(var a=0,b=0,c=f.length;b<c;b++){ua[b]=a;va[b]=a+f[b].width;a=a+f[b].width}}function Kb(a){f=a;N={};for(a=0;a<f.length;a++){var b=
f[a]=c.extend({},ob,f[a]);N[b.id]=a;if(b.minWidth&&b.width<b.minWidth)b.width=b.minWidth;if(b.maxWidth&&b.width>b.maxWidth)b.width=b.maxWidth}ib();if(T){ia();z();ja.remove();ka=null;s();aa();gb();Ca()}}function J(){return d.getLength?d.getLength():d.length}function ba(){return J()+(g.enableAddRow?1:0)}function W(a){return d.getItem?d.getItem(a):d[a]}function Oa(a){return Math.floor((a+C)/g.rowHeight)}function fa(a){var a=Math.max(a,0),a=Math.min(a,X-E+(kb?b.height:0)),c=C;wa=Math.min(xa-1,Math.floor(a/
ya));C=Math.round(wa*Pa);a=a-C;if(C!=c){var d=Qa(a);Ob(d);for(var e in w)w[e].rowNode.style.top=g.rowHeight*e-C+"px"}if(za!=a){la=za+c<a+C?1:-1;D[0].scrollTop=Ra=B=za=a;i(n.onViewportChanged,{})}}function Sa(a,b){var c=d.getItemMetadata&&d.getItemMetadata(a),e=c&&c.columns&&(c.columns[b.id]||c.columns[N[b.id]]);return e&&e.formatter||c&&c.formatter||b.formatter||g.formatterFactory&&g.formatterFactory.getFormatter(b)||g.defaultFormatter}function Pb(a,b){var c=f[b],e=d.getItemMetadata&&d.getItemMetadata(a);
return(e=e&&e.columns)&&e[c.id]&&e[c.id].editor!==void 0?e[c.id].editor:e&&e[b]&&e[b].editor!==void 0?e[b].editor:c.editor||g.editorFactory&&g.editorFactory.getEditor(c)}function Ta(a,b){return g.dataItemColumnValueExtractor?g.dataItemColumnValueExtractor(a,b):a[b.field]}function Qb(a,b,c,d,e){var g=f[c],h="slick-cell l"+c+" r"+Math.min(f.length-1,c+d-1)+(g.cssClass?" "+g.cssClass:"");b===r&&c===y&&(h=h+" active");for(var i in O)O[i][b]&&O[i][b][g.id]&&(h=h+(" "+O[i][b][g.id]));a.push("<div class='"+
h+"'>");if(e){h=Ta(e,g);a.push(Sa(b,g)(b,c,h,g,e))}a.push("</div>");w[b].cellRenderQueue.push(c);w[b].cellColSpans[c]=d}function Ob(a){for(var b in w)(b=parseInt(b,10))!==r&&(b<a.top||b>a.bottom)&&Ua(b)}function ia(){p&&Y();for(var a in w)Ua(a)}function Ua(a){var b=w[a];if(b){if(Va==b.rowNode){b.rowNode.style.display="none";Da=Va}else G[0].removeChild(b.rowNode);delete w[a];delete ga[a];pb--;Rb++}}function Sb(a){var b,c;if(a&&a.length){b=la=0;for(c=a.length;b<c;b++){p&&r===a[b]&&Y();w[a[b]]&&Ua(a[b])}}}
function Tb(a){Sb([a])}function qb(a){var b=w[a];if(b){Wa(a);var c=W(a),d;for(d in b.cellNodesByColumnIdx)if(b.cellNodesByColumnIdx.hasOwnProperty(d)){d=d|0;var e=f[d],g=b.cellNodesByColumnIdx[d];a===r&&d===y&&p?p.loadValue(c):g.innerHTML=c?Sa(a,e)(a,d,Ta(c,e),e,c):""}rb(a)}}function aa(){if(T){E=g.autoHeight?g.rowHeight*ba():parseFloat(c.css(x[0],"height",true))-parseFloat(c.css(x[0],"paddingTop",true))-parseFloat(c.css(x[0],"paddingBottom",true))-parseFloat(c.css(sa[0],"height"))-h(sa)-(g.showTopPanel?
g.topPanelHeight+h(ma):0)-(g.showHeaderRow?g.headerRowHeight+h(U):0);Xa=Math.ceil(E/g.rowHeight);L=parseFloat(c.css(x[0],"width",true));g.autoHeight||D.height(E);g.forceFitColumns&&fb();Ya();Ca();Ea=-1;I()}}function Ya(){if(T){var c=ba(),d=c+(g.leaveSpaceForNewRows?Xa-1:0),e=ta;ta=!g.autoHeight&&d*g.rowHeight>E;Y();var c=c-1,f;for(f in w)f>=c&&Ua(f);v&&r>c&&sb();f=Z;X=Math.max(g.rowHeight*d,E-b.height);if(X<a){Z=ya=X;xa=1;Pa=0}else{Z=a;ya=Z/100;xa=Math.floor(X/ya);Pa=(X-Z)/(xa-1)}if(Z!==f){G.css("height",
Z);B=D[0].scrollTop}d=B+C<=X-E;X==0||B==0?wa=C=0:d?fa(B+C):fa(X-E);Z!=f&&g.autoHeight&&aa();g.forceFitColumns&&e!=ta&&fb();m(false)}}function Qa(a,b){a==null&&(a=B);b==null&&(b=K);return{top:Oa(a),bottom:Oa(a+E)+1,leftPx:b,rightPx:b+L}}function Ub(a,b){var c=Qa(a,b),d=Math.round(E/g.rowHeight);if(la==-1){c.top=c.top-d;c.bottom=c.bottom+3}else if(la==1){c.top=c.top-3;c.bottom=c.bottom+d}else{c.top=c.top-3;c.bottom=c.bottom+3}c.top=Math.max(0,c.top);c.bottom=Math.min(ba()-1,c.bottom);c.leftPx=c.leftPx-
L;c.rightPx=c.rightPx+L;c.leftPx=Math.max(0,c.leftPx);c.rightPx=Math.min(V,c.rightPx);return c}function Wa(a){if((a=w[a])&&a.cellRenderQueue.length)for(var b=a.rowNode.lastChild;a.cellRenderQueue.length;){var c=a.cellRenderQueue.pop();a.cellNodesByColumnIdx[c]=b;b=b.previousSibling}}function Vb(){if(g.enableAsyncPostRender){clearTimeout(tb);tb=setTimeout(Wb,g.asyncPostRenderDelay)}}function rb(a){delete ga[a];Fa=Math.min(Fa,a);Ga=Math.max(Ga,a);Vb()}function I(){if(T){var a=Qa(),b=Ub();Ob(b);if(Ea!=
K){for(var c,e=[],h=[],i,j,k=b.top,q=b.bottom;k<=q;k++)if(c=w[k]){Wa(k);var s=b;i=k;var m=0,n=w[i],l=[];j=void 0;for(j in n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(j)){j=j|0;var o=n.cellColSpans[j];if(ua[j]>s.rightPx||va[Math.min(f.length-1,j+o-1)]<s.leftPx)i==r&&j==y||l.push(j)}for(s=void 0;(s=l.pop())!=null;){n.rowNode.removeChild(n.cellNodesByColumnIdx[s]);delete n.cellColSpans[s];delete n.cellNodesByColumnIdx[s];ga[i]&&delete ga[i][s];m++}i=0;m=(m=d.getItemMetadata&&d.getItemMetadata(k))&&
m.columns;n=W(k);l=0;for(s=f.length;l<s;l++){if(ua[l]>b.rightPx)break;if((j=c.cellColSpans[l])==null){j=1;if(m){j=(j=m[f[l].id]||m[l])&&j.colspan||1;j==="*"&&(j=s-l)}if(va[Math.min(s-1,l+j-1)]>b.leftPx){Qb(e,k,l,j,n);i++}}l=l+(j>1?j-1:0)}i&&h.push(k)}if(e.length){k=document.createElement("div");for(k.innerHTML=e.join("");(c=h.pop())!=null;)for(c=w[c];(q=c.cellRenderQueue.pop())!=null;){e=k.lastChild;c.rowNode.appendChild(e);c.cellNodesByColumnIdx[q]=e}}}h=G[0];c=[];e=[];k=false;m=J();q=b.top;for(i=
b.bottom;q<=i;q++)if(!w[q]){pb++;e.push(q);w[q]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};n=c;l=q;s=b;o=m;j=W(l);var p="slick-row"+(l<o&&!j?" loading":"")+(l===r?" active":"")+(l%2==1?" odd":" even");j||(p=p+(" "+g.addNewRowCssClass));(o=d.getItemMetadata&&d.getItemMetadata(l))&&o.cssClasses&&(p=p+(" "+o.cssClasses));n.push("<div class='ui-widget-content "+p+"' style='top:"+(g.rowHeight*l-C)+"px'>");for(var t=void 0,z=void 0,p=0,x=f.length;p<x;p++){z=f[p];t=1;if(o&&
o.columns){t=(t=o.columns[z.id]||o.columns[p])&&t.colspan||1;t==="*"&&(t=x-p)}if(va[Math.min(x-1,p+t-1)]>s.leftPx){if(ua[p]>s.rightPx)break;Qb(n,l,p,t,j)}t>1&&(p=p+(t-1))}n.push("</div>");v&&r===q&&(k=true);Xb++}if(e.length){b=document.createElement("div");b.innerHTML=c.join("");q=0;for(i=e.length;q<i;q++)w[e[q]].rowNode=h.appendChild(b.firstChild);k&&(v=P(r,y))}Fa=a.top;Ga=Math.min(ba()-1,a.bottom);Vb();Ra=B;Ea=K;Za=null}}function xc(){var a=U[0].scrollLeft;if(a!=D[0].scrollLeft)D[0].scrollLeft=
a}function Ca(){B=D[0].scrollTop;K=D[0].scrollLeft;var a=Math.abs(B-za),b=Math.abs(K-Yb);if(b){Yb=K;sa[0].scrollLeft=K;ma[0].scrollLeft=K;U[0].scrollLeft=K}if(a){la=za<B?1:-1;za=B;if(a<E)fa(B+C);else{var c=C;wa=Z==E?0:Math.min(xa-1,Math.floor(B*((X-E)/(Z-E))*(1/ya)));C=Math.round(wa*Pa);c!=C&&ia()}}if(b||a){Za&&clearTimeout(Za);if(Math.abs(Ra-B)>20||Math.abs(Ea-K)>20){g.forceSyncScrolling||Math.abs(Ra-B)<E&&Math.abs(Ea-K)<L?I():Za=setTimeout(I,50);i(n.onViewportChanged,{})}}i(n.onScroll,{scrollLeft:K,
scrollTop:B})}function Wb(){for(var a=J();Fa<=Ga;){var b=la>=0?Fa++:Ga--,c=w[b];if(c&&!(b>=a)){ga[b]||(ga[b]={});Wa(b);for(var d in c.cellNodesByColumnIdx)if(c.cellNodesByColumnIdx.hasOwnProperty(d)){d=d|0;a=f[d];if(a.asyncPostRender&&!ga[b][d]){var e=c.cellNodesByColumnIdx[d];e&&a.asyncPostRender(e,b,W(b),a);ga[b][d]=true}}tb=setTimeout(Wb,g.asyncPostRenderDelay);break}}}function ub(a,b){var d,e,f,g,h;for(h in w){g=b&&b[h];f=a&&a[h];if(g)for(e in g)if(!f||g[e]!=f[e])(d=P(h,N[e]))&&c(d).removeClass(g[e]);
if(f)for(e in f)if(!g||g[e]!=f[e])(d=P(h,N[e]))&&c(d).addClass(f[e])}}function Mb(a,b){var c=O[a];O[a]=b;ub(b,c);i(n.onCellCssStylesChanged,{key:a,hash:b})}function Hc(a){a=c(a.target).closest(".slick-row")[0];if(a!=Va){if(Da&&Da!=a){G[0].removeChild(Da);Da=null}Va=a}}function Bc(a,b){var c=Ha(a);if(!c||!vb(c.row,c.cell))return false;c=i(n.onDragInit,b,a);return a.isImmediatePropagationStopped()?c:false}function Cc(a,b){var c=Ha(a);if(!c||!vb(c.row,c.cell))return false;c=i(n.onDragStart,b,a);return a.isImmediatePropagationStopped()?
c:false}function Dc(a,b){return i(n.onDrag,b,a)}function Ec(a,b){i(n.onDragEnd,b,a)}function Ib(a){i(n.onKeyDown,{row:r,cell:y},a);var b=a.isImmediatePropagationStopped();if(!b)if(!a.shiftKey&&!a.altKey&&!a.ctrlKey)if(a.which==27){if(!q().isActive())return;Zb()}else if(a.which==34){$b();b=true}else if(a.which==33){ac();b=true}else if(a.which==37)b=bc();else if(a.which==39)b=cc();else if(a.which==38)b=dc();else if(a.which==40)b=$a();else if(a.which==9)b=ec();else{if(a.which==13){g.editable&&(p?r===
J()?$a():fc():q().commitCurrentEdit()&&ab());b=true}}else a.which==9&&(a.shiftKey&&!a.ctrlKey&&!a.altKey)&&(b=gc());if(b){a.stopPropagation();a.preventDefault();try{a.originalEvent.keyCode=0}catch(c){}}}function yc(a){p||(a.target!=document.activeElement||c(a.target).hasClass("slick-cell"))&&na();var b=Ha(a);if(b&&!(p!==null&&r==b.row&&y==b.cell)){i(n.onClick,{row:b.row,cell:b.cell},a);if(!a.isImmediatePropagationStopped()&&(y!=b.cell||r!=b.row)&&Q(b.row,b.cell))if(!q().isActive()||q().commitCurrentEdit()){wb(b.row,
false);oa(P(b.row,b.cell))}}}function Ac(a){var b=c(a.target).closest(".slick-cell",G);b.length!==0&&!(v===b[0]&&p!==null)&&i(n.onContextMenu,{},a)}function zc(a){var b=Ha(a);if(b&&!(p!==null&&r==b.row&&y==b.cell)){i(n.onDblClick,{row:b.row,cell:b.cell},a);a.isImmediatePropagationStopped()||g.editable&&hc(b.row,b.cell,true)}}function vc(a){i(n.onHeaderMouseEnter,{column:c(this).data("column")},a)}function wc(a){i(n.onHeaderMouseLeave,{column:c(this).data("column")},a)}function tc(a){var b=c(a.target).closest(".slick-header-column",
".slick-header-columns"),b=b&&b.data("column");i(n.onHeaderContextMenu,{column:b},a)}function uc(a){var b=c(a.target).closest(".slick-header-column",".slick-header-columns");(b=b&&b.data("column"))&&i(n.onHeaderClick,{column:b},a)}function Fc(a){i(n.onMouseEnter,{},a)}function Gc(a){i(n.onMouseLeave,{},a)}function vb(a,b){return!(a<0||a>=J()||b<0||b>=f.length)}function ic(a){var b=/l\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-
1),10)}function jc(a){for(var b in w)if(w[b].rowNode===a)return b|0;return null}function Ha(a){var b=c(a.target).closest(".slick-cell",G);if(!b.length)return null;a=jc(b[0].parentNode);b=ic(b[0]);return a==null||b==null?null:{row:a,cell:b}}function sb(){oa(null,false)}function na(){kc==-1?Na[0].focus():jb[0].focus()}function bb(a,b,c){wb(a,c);c=pa(a,b);a=ua[b];b=va[b+(c>1?c-1:0)];c=K+L;if(a<K){D.scrollLeft(a);Ca();I()}else if(b>c){D.scrollLeft(Math.min(a,b-D[0].clientWidth));Ca();I()}}function oa(a,
b){if(v!==null){Y();c(v).removeClass("active");w[r]&&c(w[r].rowNode).removeClass("active")}var d=v!==a;v=a;if(v!=null){r=jc(v.parentNode);y=Aa=ic(v);b==null&&(b=r==J()||g.autoEdit);c(v).addClass("active");c(w[r].rowNode).addClass("active");if(g.editable&&b&&lc(r,y)){clearTimeout(xb);g.asyncEditorLoading?xb=setTimeout(function(){ab()},g.asyncEditorLoadDelay):ab()}}else r=y=null;d&&i(n.onActiveCellChanged,mc())}function lc(a,b){var c=J();return a<c&&!W(a)||f[b].cannotTriggerInsert&&a>=c||!Pb(a,b)?false:
true}function Y(){if(p){i(n.onBeforeCellEditorDestroy,{editor:p});p.destroy();p=null;if(v){var a=W(r);c(v).removeClass("editable invalid");if(a){var b=f[y],d=Sa(r,b);v.innerHTML=d(r,y,Ta(a,b),b,a);rb(r)}}if(navigator.userAgent.toLowerCase().match(/msie/))if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection)(a=window.getSelection())&&a.removeAllRanges&&a.removeAllRanges();q().deactivate(cb)}}function ab(a){if(v){if(!g.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";
clearTimeout(xb);if(lc(r,y)){var b=f[y],d=W(r);if(i(n.onBeforeEditCell,{row:r,cell:y,item:d,column:b})===false)na();else{q().activate(cb);c(v).addClass("editable");if(!a)v.innerHTML="";p=new (a||Pb(r,y))({grid:n,gridPosition:db(x[0]),position:db(v),container:v,column:b,item:d||{},commitChanges:fc,cancelChanges:Zb});d&&p.loadValue(d);nc=p.serializeValue();p.position&&Hb()}}}}function fc(){if(q().commitCurrentEdit()){na();g.autoEdit&&$a()}}function Zb(){q().cancelCurrentEdit()&&na()}function db(a){var b=
{top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:c(a).outerWidth(),height:c(a).outerHeight(),visible:true};b.bottom=b.top+b.height;b.right=b.left+b.width;for(var d=a.offsetParent;(a=a.parentNode)!=document.body;){if(b.visible&&a.scrollHeight!=a.offsetHeight&&c(a).css("overflowY")!="visible")b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight;if(b.visible&&a.scrollWidth!=a.offsetWidth&&c(a).css("overflowX")!="visible")b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth;
b.left=b.left-a.scrollLeft;b.top=b.top-a.scrollTop;if(a===d){b.left=b.left+a.offsetLeft;b.top=b.top+a.offsetTop;d=a.offsetParent}b.bottom=b.top+b.height;b.right=b.left+b.width}return b}function oc(){return db(v)}function Hb(){if(v){i(n.onActiveCellPositionChanged,{});if(p){var a=oc();p.show&&p.hide&&(a.visible?p.show():p.hide());p.position&&p.position(a)}}}function mc(){return v?{row:r,cell:y}:null}function wb(a,c){var d=a*g.rowHeight,e=(a+1)*g.rowHeight-E+(kb?b.height:0);if((a+1)*g.rowHeight>B+E+
C){fa(c?d:e);I()}else if(a*g.rowHeight<B+C){fa(c?e:d);I()}}function pc(a){a=a*Xa;fa((Oa(B)+a)*g.rowHeight);I();if(g.enableCellNavigation&&r!=null){var a=r+a,b=ba();a>=b&&(a=b-1);a<0&&(a=0);for(var b=0,c=null,d=Aa;b<=Aa;){Q(a,b)&&(c=b);b=b+pa(a,b)}if(c!==null){oa(P(a,c));Aa=d}else sb()}}function $b(){pc(1)}function ac(){pc(-1)}function pa(a,b){var c=d.getItemMetadata&&d.getItemMetadata(a);if(!c||!c.columns)return 1;c=(c=c.columns[f[b].id]||c.columns[b])&&c.colspan;return c=c==="*"?f.length-b:c||1}
function qc(a){for(var b=0;b<f.length;){if(Q(a,b))return b;b=b+pa(a,b)}return null}function yb(a,b){if(b>=f.length)return null;do b=b+pa(a,b);while(b<f.length&&!Q(a,b));return b<f.length?{row:a,cell:b,posX:b}:null}function rc(a,b){if(b<=0)return null;var c=qc(a);if(c===null||c>=b)return null;for(var c={row:a,cell:c,posX:c},d;;){d=yb(c.row,c.cell,c.posX);if(!d)return null;if(d.cell>=b)return c;c=d}}function Ic(a,b,c){for(var d,e=ba();;){if(++a>=e)return null;for(d=b=0;b<=c;){d=b;b=b+pa(a,b)}if(Q(a,
d))return{row:a,cell:d,posX:c}}}function Jc(a,b,c){for(var d;;){if(--a<0)return null;for(d=b=0;b<=c;){d=b;b=b+pa(a,b)}if(Q(a,d))return{row:a,cell:d,posX:c}}}function Kc(a,b,c){if(a==null&&b==null){a=b=c=0;if(Q(a,b))return{row:a,cell:b,posX:b}}if(b=yb(a,b,c))return b;b=null;for(c=ba();++a<c;){b=qc(a);if(b!==null)return{row:a,cell:b,posX:b}}return null}function Lc(a,b,c){if(a==null&&b==null){a=ba()-1;b=c=f.length-1;if(Q(a,b))return{row:a,cell:b,posX:b}}for(var d,e;!d;){if(d=rc(a,b,c))break;if(--a<0)return null;
b=0;e=a;for(var g=0,h=null;g<f.length;){Q(e,g)&&(h=g);g=g+pa(e,g)}e=h;e!==null&&(d={row:a,cell:e,posX:e})}return d}function cc(){return Ba("right")}function bc(){return Ba("left")}function $a(){return Ba("down")}function dc(){return Ba("up")}function ec(){return Ba("next")}function gc(){return Ba("prev")}function Ba(a){if(!g.enableCellNavigation||!v&&a!="prev"&&a!="next")return false;if(!q().commitCurrentEdit())return true;na();kc={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[a];if(a=(0,{up:Jc,down:Ic,
left:rc,right:yb,prev:Lc,next:Kc}[a])(r,y,Aa)){var b=a.row==J();bb(a.row,a.cell,!b);oa(P(a.row,a.cell));Aa=a.posX;return true}oa(P(r,y));return false}function P(a,b){if(w[a]){Wa(a);return w[a].cellNodesByColumnIdx[b]}return null}function Q(a,b){if(!g.enableCellNavigation||a>=ba()||a<0||b>=f.length||b<0)return false;var c=d.getItemMetadata&&d.getItemMetadata(a);if(c&&typeof c.focusable==="boolean")return c.focusable;return(c=c&&c.columns)&&c[f[b].id]&&typeof c[f[b].id].focusable==="boolean"?c[f[b].id].focusable:
c&&c[b]&&typeof c[b].focusable==="boolean"?c[b].focusable:f[b].focusable}function Lb(a,b){if(a>=J()||a<0||b>=f.length||b<0)return false;var c=d.getItemMetadata&&d.getItemMetadata(a);if(c&&typeof c.selectable==="boolean")return c.selectable;return(c=c&&c.columns&&(c.columns[f[b].id]||c.columns[b]))&&typeof c.selectable==="boolean"?c.selectable:f[b].selectable}function hc(a,b,c){if(T&&Q(a,b)&&q().commitCurrentEdit()){bb(a,b,false);b=P(a,b);oa(b,c||a===J()||g.autoEdit);p||na()}}function Mc(a){for(var b=
[],c=f.length-1,d=0;d<a.length;d++)b.push(new Slick.Range(a[d],0,a[d],c));return b}function Nb(){if(!R)throw"Selection model is not set";return nb}var Nc={explicitInitialization:false,rowHeight:25,defaultColumnWidth:80,enableAddRow:false,leaveSpaceForNewRows:false,editable:false,autoEdit:true,enableCellNavigation:true,enableColumnReorder:true,asyncEditorLoading:false,asyncEditorLoadDelay:100,forceFitColumns:false,enableAsyncPostRender:false,asyncPostRenderDelay:50,autoHeight:false,editorLock:Slick.GlobalEditorLock,
showHeaderRow:false,headerRowHeight:25,showTopPanel:false,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:true,enableTextSelectionOnCells:false,dataItemColumnValueExtractor:null,fullWidthRows:false,multiColumnSort:false,defaultFormatter:function(a,b,c){return c==null?"":(c+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},forceSyncScrolling:false,addNewRowCssClass:"new-row"},ob={name:"",resizable:true,
sortable:false,minWidth:30,rerenderOnResize:false,headerCssClass:null,defaultSortAsc:true,focusable:true,selectable:true},X,Z,ya,xa,Pa,wa=0,C=0,la=1,T=false,x,M="slickgrid_"+Math.round(1E6*Math.random()),n=this,Na,jb,sa,A,ha,U,Jb,ma,sc,D,G,ja,ra,ka,lb,mb,E,L,V,kb,ta,ca=0,hb=0,La=0,Ma=0,da,kc=1,Aa,r,y,v=null,p=null,nc,cb,w={},pb=0,Xa,za=0,B=0,Ra=0,Ea=0,Yb=0,K=0,R,nb=[],ea=[],O={},N={},H=[],ua=[],va=[],xb=null,Za=null,tb=null,ga={},Ga=null,Fa=null,Xb=0,Rb=0,Va,Da;this.debug=function(){var b;b="\ncounter_rows_rendered:  "+
Xb;b=b+("\ncounter_rows_removed:  "+Rb);b=b+("\nrenderedRows:  "+pb);b=b+("\nnumVisibleRows:  "+Xa);b=b+("\nmaxSupportedCssHeight:  "+a);b=b+("\nn(umber of pages):  "+xa);b=b+("\n(current) page:  "+wa);b=b+("\npage height (ph):  "+ya);b=b+("\nvScrollDir:  "+la);alert(b)};this.eval=function(a){return eval(a)};c.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,
onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,
onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:function(a){ea.unshift(a);a.init(n)},unregisterPlugin:k,getColumns:function(){return f},setColumns:Kb,
getColumnIndex:Db,updateColumnHeader:function(a,b,c){if(T){a=N[a];if(a!=null){var d=f[a],e=A.children().eq(a);if(e){if(b!==void 0)f[a].name=b;if(c!==void 0)f[a].toolTip=c;i(n.onBeforeHeaderCellDestroy,{node:e[0],column:d});e.attr("title",c||"").children().eq(0).html(b);i(n.onHeaderCellRendered,{node:e[0],column:d})}}}},setSortColumn:function(a,b){Ka([{columnId:a,sortAsc:b}])},setSortColumns:Ka,getSortColumns:function(){return H},autosizeColumns:fb,getOptions:function(){return g},setOptions:function(a){if(q().commitCurrentEdit()){Y();
g.enableAddRow!==a.enableAddRow&&Tb(J());g=c.extend(g,a);if(g.autoHeight)g.leaveSpaceForNewRows=false;D.css("overflow-y",g.autoHeight?"hidden":"auto");I()}},getData:function(){return d},getDataLength:J,getDataItem:W,setData:function(a,b){d=a;ia();Ya();b&&fa(0)},getSelectionModel:function(){return R},setSelectionModel:function(a){if(R){R.onSelectedRangesChanged.unsubscribe(Fb);R.destroy&&R.destroy()}if(R=a){R.init(n);R.onSelectedRangesChanged.subscribe(Fb)}},getSelectedRows:Nb,setSelectedRows:function(a){if(!R)throw"Selection model is not set";
R.setSelectedRanges(Mc(a))},getContainerNode:function(){return x.get(0)},render:I,invalidate:function(){Ya();ia();I()},invalidateRow:Tb,invalidateRows:Sb,invalidateAllRows:ia,updateCell:function(a,b){var c=P(a,b);if(c){var d=f[b],e=W(a);if(p&&r===a&&y===b)p.loadValue(e);else{c.innerHTML=e?Sa(a,d)(a,b,Ta(e,d),d,e):"";rb(a)}}},updateRow:qb,getViewport:Qa,getRenderedRange:Ub,resizeCanvas:aa,updateRowCount:Ya,scrollRowIntoView:wb,scrollRowToTop:function(a){fa(a*g.rowHeight);I()},scrollCellIntoView:bb,
getCanvasNode:function(){return G[0]},focus:na,getCellFromPoint:function(a,b){for(var c=Oa(b),d=0,e=0,g=0;g<f.length&&e<a;g++){e=e+f[g].width;d++}d<0&&(d=0);return{row:c,cell:d-1}},getCellFromEvent:Ha,getActiveCell:mc,setActiveCell:function(a,b){if(T&&!(a>J()||a<0||b>=f.length||b<0)&&g.enableCellNavigation){bb(a,b,false);oa(P(a,b),false)}},getActiveCellNode:function(){return v},getActiveCellPosition:oc,resetActiveCell:sb,editActiveCell:ab,getCellEditor:function(){return p},getCellNode:P,getCellNodeBox:function(a,
b){if(!vb(a,b))return null;for(var c=g.rowHeight*a-C,d=c+g.rowHeight-1,e=0,h=0;h<b;h++)e=e+f[h].width;return{top:c,left:e,bottom:d,right:e+f[b].width}},canCellBeSelected:Lb,canCellBeActive:Q,navigatePrev:gc,navigateNext:ec,navigateUp:dc,navigateDown:$a,navigateLeft:bc,navigateRight:cc,navigatePageUp:ac,navigatePageDown:$b,gotoCell:hc,getTopPanel:function(){return sc[0]},setTopPanelVisibility:function(a){if(g.showTopPanel!=a)(g.showTopPanel=a)?ma.slideDown("fast",aa):ma.slideUp("fast",aa)},setHeaderRowVisibility:function(a){if(g.showHeaderRow!=
a)(g.showHeaderRow=a)?U.slideDown("fast",aa):U.slideUp("fast",aa)},getHeaderRow:function(){return ha[0]},getHeaderRowColumn:function(a){a=N[a];return(a=ha.children().eq(a))&&a[0]},getGridPosition:function(){return db(x[0])},flashCell:function(a,b,d){d=d||100;if(w[a]){var e=c(P(a,b)),f=function(a){a&&setTimeout(function(){e.queue(function(){e.toggleClass(g.cellFlashingCssClass).dequeue();f(a-1)})},d)};f(4)}},addCellCssStyles:function(a,b){if(O[a])throw"addCellCssStyles: cell CSS hash with key '"+a+
"' already exists.";O[a]=b;ub(b,null);i(n.onCellCssStylesChanged,{key:a,hash:b})},setCellCssStyles:Mb,removeCellCssStyles:function(a){if(O[a]){ub(null,O[a]);delete O[a];i(n.onCellCssStylesChanged,{key:a,hash:null})}},getCellCssStyles:function(a){return O[a]},init:j,destroy:function(){q().cancelCurrentEdit();i(n.onBeforeDestroy,{});for(var a=ea.length;a--;)k(ea[a]);g.enableColumnReorder&&A.filter(":ui-sortable").sortable("destroy");if(ra){ra.unbind("scroll."+M);ra=null}x.unbind(".slickgrid");ja.remove();
ka=null;G.unbind("draginit dragstart dragend drag");x.empty().removeClass(M)},getEditorLock:q,getEditController:function(){return cb}});x=c(e);if(x.length<1)throw Error("SlickGrid requires a valid container, "+e+" does not exist in the DOM.");var zb;if(!(zb=a)){for(var Ab=1E6,Oc=navigator.userAgent.toLowerCase().match(/firefox/)?6E6:1E9,Bb=c("<div style='display:none' />").appendTo(document.body);;){var eb=Ab*2;Bb.css("height",eb);if(eb>Oc||Bb.height()!==eb)break;else Ab=eb}Bb.remove();zb=Ab}a=zb;
var Cb;if(!(Cb=b)){var Ia=c("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),Pc={width:Ia.width()-Ia[0].clientWidth,height:Ia.height()-Ia[0].clientHeight};Ia.remove();Cb=Pc}b=Cb;g=c.extend({},Nc,g);if(g.autoHeight)g.leaveSpaceForNewRows=false;ob.width=g.defaultColumnWidth;for(var N={},Ja=0;Ja<f.length;Ja++){var S=f[Ja]=c.extend({},ob,f[Ja]);N[S.id]=Ja;if(S.minWidth&&S.width<S.minWidth)S.width=S.minWidth;if(S.maxWidth&&
S.width>S.maxWidth)S.width=S.maxWidth}if(g.enableColumnReorder&&!c.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");cb={commitCurrentEdit:function(){var a=W(r),b=f[y];if(p){if(p.isValueChanged()){var d=p.validate();if(d.valid){if(r<J()){d={row:r,cell:y,editor:p,serializedValue:p.serializeValue(),prevSerializedValue:nc,execute:function(){this.editor.applyValue(a,this.serializedValue);qb(this.row);i(n.onCellChange,{row:r,cell:y,
item:a})},undo:function(){this.editor.applyValue(a,this.prevSerializedValue);qb(this.row);i(n.onCellChange,{row:r,cell:y,item:a})}};if(g.editCommandHandler){Y();g.editCommandHandler(a,b,d)}else{d.execute();Y()}}else{d={};p.applyValue(d,p.serializeValue());Y();i(n.onAddNewRow,{item:d,column:b})}return!q().isActive()}c(v).removeClass("invalid");c(v).width();c(v).addClass("invalid");i(n.onValidationError,{editor:p,cellNode:v,validationResults:d,row:r,cell:y,column:b});p.focus();return false}Y()}return true},
cancelCurrentEdit:function(){Y();return true}};x.empty().css("overflow","hidden").css("outline",0).addClass(M).addClass("ui-widget");/relative|absolute|fixed/.test(x.css("position"))||x.css("position","relative");Na=c("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo(x);sa=c("<div class='slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(x);A=c("<div class='slick-header-columns' style='left:-1000px' />").appendTo(sa);
A.width(l());U=c("<div class='slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(x);ha=c("<div class='slick-headerrow-columns' />").appendTo(U);Jb=c("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",o()+b.width+"px").appendTo(U);ma=c("<div class='slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo(x);sc=c("<div class='slick-top-panel' style='width:10000px' />").appendTo(ma);
g.showTopPanel||ma.hide();g.showHeaderRow||U.hide();D=c("<div class='slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;;'>").appendTo(x);D.css("overflow-y",g.autoHeight?"hidden":"auto");G=c("<div class='grid-canvas' />").appendTo(D);jb=Na.clone().appendTo(x);g.explicitInitialization||j()}}});var b,a})(jQuery);(function(c){c.extend(!0,window,{Slick:{Editors:{Text:function(b){var a,e;this.init=function(){a=c("<INPUT type=text class='editor-text' />").appendTo(b.container).bind("keydown.nav",function(a){(a.keyCode===c.ui.keyCode.LEFT||a.keyCode===c.ui.keyCode.RIGHT)&&a.stopImmediatePropagation()}).focus().select()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.getValue=function(){return a.val()};this.setValue=function(b){a.val(b)};this.loadValue=function(c){e=c[b.column.field]||
"";a.val(e);a[0].defaultValue=e;a.select()};this.serializeValue=function(){return a.val()};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(a.val()==""&&e==null)&&a.val()!=e};this.validate=function(){if(b.column.validator){var c=b.column.validator(a.val());if(!c.valid)return c}return{valid:true,msg:null}};this.init()},Integer:function(b){var a,e;this.init=function(){a=c("<INPUT type=text class='editor-text' />");a.bind("keydown.nav",function(a){(a.keyCode===
c.ui.keyCode.LEFT||a.keyCode===c.ui.keyCode.RIGHT)&&a.stopImmediatePropagation()});a.appendTo(b.container);a.focus().select()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.loadValue=function(c){e=c[b.column.field];a.val(e);a[0].defaultValue=e;a.select()};this.serializeValue=function(){return parseInt(a.val(),10)||0};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(a.val()==""&&e==null)&&a.val()!=e};this.validate=function(){return isNaN(a.val())?
{valid:false,msg:"Please enter a valid integer"}:{valid:true,msg:null}};this.init()},Date:function(b){var a,e,d=false;this.init=function(){a=c("<INPUT type=text class='editor-text' />");a.appendTo(b.container);a.focus().select();a.datepicker({showOn:"button",buttonImageOnly:true,buttonImage:"../images/calendar.gif",beforeShow:function(){d=true},onClose:function(){d=false}});a.width(a.width()-18)};this.destroy=function(){c.datepicker.dpDiv.stop(true,true);a.datepicker("hide");a.datepicker("destroy");
a.remove()};this.show=function(){d&&c.datepicker.dpDiv.stop(true,true).show()};this.hide=function(){d&&c.datepicker.dpDiv.stop(true,true).hide()};this.position=function(a){d&&c.datepicker.dpDiv.css("top",a.top+30).css("left",a.left)};this.focus=function(){a.focus()};this.loadValue=function(c){e=c[b.column.field];a.val(e);a[0].defaultValue=e;a.select()};this.serializeValue=function(){return a.val()};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(a.val()==
""&&e==null)&&a.val()!=e};this.validate=function(){return{valid:true,msg:null}};this.init()},YesNoSelect:function(b){var a,e;this.init=function(){a=c("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>");a.appendTo(b.container);a.focus()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.loadValue=function(c){a.val((e=c[b.column.field])?"yes":"no");a.select()};this.serializeValue=function(){return a.val()=="yes"};
this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return a.val()!=e};this.validate=function(){return{valid:true,msg:null}};this.init()},Checkbox:function(b){var a,e;this.init=function(){a=c("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>");a.appendTo(b.container);a.focus()};this.destroy=function(){a.remove()};this.focus=function(){a.focus()};this.loadValue=function(c){(e=!!c[b.column.field])?a.prop("checked",true):a.prop("checked",false)};this.serializeValue=
function(){return a.prop("checked")};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return this.serializeValue()!==e};this.validate=function(){return{valid:true,msg:null}};this.init()},PercentComplete:function(b){var a,e,d;this.init=function(){a=c("<INPUT type=text class='editor-percentcomplete' />");a.width(c(b.container).innerWidth()-25);a.appendTo(b.container);e=c("<div class='editor-percentcomplete-picker' />").appendTo(b.container);e.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>");
e.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>");a.focus().select();e.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:d,slide:function(b,c){a.val(c.value)}});e.find(".editor-percentcomplete-buttons button").bind("click",function(){a.val(c(this).attr("val"));e.find(".editor-percentcomplete-slider").slider("value",c(this).attr("val"))})};this.destroy=
function(){a.remove();e.remove()};this.focus=function(){a.focus()};this.loadValue=function(c){a.val(d=c[b.column.field]);a.select()};this.serializeValue=function(){return parseInt(a.val(),10)||0};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(a.val()==""&&d==null)&&(parseInt(a.val(),10)||0)!=d};this.validate=function(){return isNaN(parseInt(a.val(),10))?{valid:false,msg:"Please enter a valid positive number"}:{valid:true,msg:null}};this.init()},LongText:function(b){var a,
e,d,f=this;this.init=function(){var d=c("body");e=c("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(d);a=c("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(e);c("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(e);e.find("button:first").bind("click",this.save);e.find("button:last").bind("click",
this.cancel);a.bind("keydown",this.handleKeyDown);f.position(b.position);a.focus().select()};this.handleKeyDown=function(a){if(a.which==c.ui.keyCode.ENTER&&a.ctrlKey)f.save();else if(a.which==c.ui.keyCode.ESCAPE){a.preventDefault();f.cancel()}else if(a.which==c.ui.keyCode.TAB&&a.shiftKey){a.preventDefault();b.grid.navigatePrev()}else if(a.which==c.ui.keyCode.TAB){a.preventDefault();b.grid.navigateNext()}};this.save=function(){b.commitChanges()};this.cancel=function(){a.val(d);b.cancelChanges()};this.hide=
function(){e.hide()};this.show=function(){e.show()};this.position=function(a){e.css("top",a.top-5).css("left",a.left-5)};this.destroy=function(){e.remove()};this.focus=function(){a.focus()};this.loadValue=function(c){a.val(d=c[b.column.field]);a.select()};this.serializeValue=function(){return a.val()};this.applyValue=function(a,c){a[b.column.field]=c};this.isValueChanged=function(){return!(a.val()==""&&d==null)&&a.val()!=d};this.validate=function(){return{valid:true,msg:null}};this.init()}}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{Formatters:{PercentComplete:function(b,a,c){return c==null||c===""?"-":c<50?"<span style='color:red;font-weight:bold;'>"+c+"%</span>":"<span style='color:green'>"+c+"%</span>"},PercentCompleteBar:function(b,a,c){return c==null||c===""?"":"<span class='percent-complete-bar' style='background:"+(c<30?"red":c<70?"silver":"green")+";width:"+c+"%'></span>"},YesNo:function(b,a,c){return c?"Yes":"No"},Checkmark:function(b,a,c){return c?"<img src='../images/tick.png'>":
""}}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{CellSelectionModel:function(b){function a(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];k.canCellBeSelected(d.fromRow,d.fromCell)&&k.canCellBeSelected(d.toRow,d.toCell)&&b.push(d)}return b}function e(b){l=a(b);o.onSelectedRangesChanged.notify(l)}function d(a){if(k.getEditorLock().isActive()){a.stopPropagation();return false}}function f(a,b){e([b.range])}function g(a,b){z.selectActiveCell&&(b.row!=null&&b.cell!=null)&&e([new Slick.Range(b.row,b.cell)])}function j(b){var c,
d,f=k.getActiveCell();if(f&&b.shiftKey&&!b.ctrlKey&&!b.altKey&&(b.which==37||b.which==39||b.which==38||b.which==40)){c=l;c.length||c.push(new Slick.Range(f.row,f.cell));d=c.pop();d.contains(f.row,f.cell)||(d=new Slick.Range(f.row,f.cell));var g=d.toRow-d.fromRow,j=d.toCell-d.fromCell,m=f.row==d.fromRow?1:-1,o=f.cell==d.fromCell?1:-1;b.which==37?j=j-o:b.which==39?j=j+o:b.which==38?g=g-m:b.which==40&&(g=g+m);f=new Slick.Range(f.row,f.cell,f.row+m*g,f.cell+o*j);if(a([f]).length){c.push(f);d=m>0?f.toRow:
f.fromRow;o=o>0?f.toCell:f.fromCell;k.scrollRowIntoView(d);k.scrollCellIntoView(d,o)}else c.push(d);e(c);b.preventDefault();b.stopPropagation()}}var k,l=[],o=this,m=new Slick.CellRangeSelector({selectionCss:{border:"2px solid black"}}),z,t={selectActiveCell:true};c.extend(this,{getSelectedRanges:function(){return l},setSelectedRanges:e,init:function(a){z=c.extend(true,{},t,b);k=a;k.getCanvasNode();k.onActiveCellChanged.subscribe(g);k.onKeyDown.subscribe(j);a.registerPlugin(m);m.onCellRangeSelected.subscribe(f);
m.onBeforeCellRangeSelected.subscribe(d)},destroy:function(){k.onActiveCellChanged.unsubscribe(g);k.onKeyDown.unsubscribe(j);m.onCellRangeSelected.unsubscribe(f);m.onBeforeCellRangeSelected.unsubscribe(d);k.unregisterPlugin(m)},onSelectedRangesChanged:new Slick.Event})}}})})(jQuery);(function(c){c.extend(!0,window,{Slick:{CellRangeSelector:function(b){function a(a){a.stopImmediatePropagation()}function e(a,b){var d=g.getCellFromEvent(a);if(o.onBeforeCellRangeSelected.notify(d)!==false&&g.canCellBeSelected(d.row,d.cell)){k=true;a.stopImmediatePropagation()}if(k){g.focus();d=g.getCellFromPoint(b.startX-c(j).offset().left,b.startY-c(j).offset().top);b.range={start:d,end:{}};return l.show(new Slick.Range(d.row,d.cell))}}function d(a,b){if(k){a.stopImmediatePropagation();var d=g.getCellFromPoint(a.pageX-
c(j).offset().left,a.pageY-c(j).offset().top);if(g.canCellBeSelected(d.row,d.cell)){b.range.end=d;l.show(new Slick.Range(b.range.start.row,b.range.start.cell,d.row,d.cell))}}}function f(a,b){if(k){k=false;a.stopImmediatePropagation();l.hide();o.onCellRangeSelected.notify({range:new Slick.Range(b.range.start.row,b.range.start.cell,b.range.end.row,b.range.end.cell)})}}var g,j,k,l,o=this,m=new Slick.EventHandler,z={selectionCss:{border:"2px dashed blue"}};c.extend(this,{init:function(k){b=c.extend(true,
{},z,b);l=new Slick.CellRangeDecorator(k,b);g=k;j=g.getCanvasNode();m.subscribe(g.onDragInit,a).subscribe(g.onDragStart,e).subscribe(g.onDrag,d).subscribe(g.onDragEnd,f)},destroy:function(){m.unsubscribeAll()},onBeforeCellRangeSelected:new Slick.Event,onCellRangeSelected:new Slick.Event})}}})})(jQuery);